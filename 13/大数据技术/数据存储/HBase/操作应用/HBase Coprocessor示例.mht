From: WizMime<support@wiz.cn>
Subject: =?gb2312?B?SEJhc2UgQ29wcm9jZXNzb3LKvsD9?=
Date: Date: Fri, 23 Jul 2021 05:53:09 +0800
MIME-Version: 1.0
Content-Type: multipart/related;
	type="multipart/alternative";
	boundary="----=_Next_Part_0001010109.166"

This is a multi-part message in MIME format.

------=_Next_Part_0001010109.166
Content-Type: multipart/alternative;
	boundary="----=_Next_Part_0000336703.396"


------=_Next_Part_0000336703.396
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: quoted-printable

This is a multi-part message in MIME format.

------=_Next_Part_0000336703.396
Content-Type: text/html;
	charset="gb2312"
Content-Transfer-Encoding: quoted-printable

<!doctype html><html><head>=0D=0A<meta http-equiv=3D"Content-Type=
" content=3D"text/html; charset=3Dgb2312">=0A=0A=0A=0A=0A=0A=0A=0A=
=0A=0A=0A=0A=0A=0A=0A<title>HBase Coprocessor=CA=BE=C0=FD</title>=
=0A    =0A=0A=0A<style id=3D"wiz_custom_css">html, body {font-siz=
e: 12pt;}body {font-family: Helvetica, 'Hiragino Sans GB', '=CE=A2=
=C8=ED=D1=C5=BA=DA', 'Microsoft YaHei UI', SimSun, SimHei, arial,=
 sans-serif;line-height: 1.6;margin: 0 auto;padding: 20px 16px;pa=
dding: 1.25rem 1rem;}h1, h2, h3, h4, h5, h6 {margin:20px 0 10px;m=
argin:1.25rem 0 0.625rem;padding: 0;font-weight: bold;}h1 {font-s=
ize:20pt;font-size:1.67rem;}h2 {font-size:18pt;font-size:1.5rem;}=
h3 {font-size:15pt;font-size:1.25rem;}h4 {font-size:14pt;font-siz=
e:1.17rem;}h5 {font-size:12pt;font-size:1rem;}h6 {font-size:12pt;=
font-size:1rem;color: #777777;margin: 1rem 0;}div, p, ul, ol, dl,=
 li {margin:0;}blockquote, table, pre, code {margin:8px 0;}ul, ol=
 {padding-left:32px;padding-left:2rem;}ol.wiz-list-level1 > li {l=
ist-style-type:decimal;}ol.wiz-list-level2 > li {list-style-type:=
lower-latin;}ol.wiz-list-level3 > li {list-style-type:lower-roman=
;}blockquote {padding:0 12px;padding:0 0.75rem;}blockquote > :fir=
st-child {margin-top:0;}blockquote > :last-child {margin-bottom:0=
;}img {border:0;max-width:100%;height:auto !important;margin:2px=20=
0;}table {border-collapse:collapse;border:1px solid #bbbbbb;}td,=20=
th {padding:4px 8px;border-collapse:collapse;border:1px solid #bb=
bbbb;min-height:28px;word-break:break-all;box-sizing: border-box;=
}.wiz-hide {display:none !important;}</style></head>=0A=0A<body s=
tyle class spellcheck=3D"false"><div class=3D"blog_title" style=3D=
"margin-bottom: 15px; font-family: Helvetica, Tahoma, Arial, sans=
-serif; font-size: 0.75rem; line-height: 18px; widows: 1;"><h3 st=
yle=3D"font-size: 1rem; line-height: 1.5em; margin-top: 0px; marg=
in-bottom: 0.5em; padding-top: 10px;"><a href=3D"http://paddy-w.i=
teye.com/blog/2191505" style=3D"color: rgb(0, 102, 0);">HBase Cop=
rocessor=CA=BE=C0=FD</a><em class=3D"actions"></em></h3><ul class=
=3D"blog_categories" style=3D"padding: 0px; list-style-type: none=
;"><strong>=B2=A9=BF=CD=B7=D6=C0=E0=A3=BA</strong>&nbsp;<li style=
=3D"margin-right: 5px; padding: 0px; list-style-type: none; displ=
ay: inline;"><a href=3D"http://paddy-w.iteye.com/category/334918"=
 style=3D"color: rgb(0, 102, 0);">HBase</a></li></ul><div class=3D=
"news_tag" style=3D"clear: both; margin-top: 10px; margin-bottom:=
 5px; line-height: 20px;"></div></div><div id=3D"blog_content" cl=
ass=3D"blog_content" style=3D"font-size: 0.875rem; line-height: 1=
.8em; font-family: Helvetica, Tahoma, Arial, sans-serif; widows:=20=
1;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HBase=B5=C4coproce=
ssor=B7=D6=CE=AA=C1=BD=C0=E0=A3=ACObserver=BA=CDEndPoint=A1=A3Obs=
erver=CF=E0=B5=B1=D3=DA=B4=A5=B7=A2=C6=F7=A3=AC=B4=FA=C2=EB=B2=BF=
=CA=F0=D4=DA=B7=FE=CE=F1=B6=CB=A3=AC=CF=E0=B5=B1=D3=DA=B6=D4API=B5=
=F7=D3=C3=B5=C4=B4=FA=C0=ED=A1=A3=BD=E9=C9=DC=D5=E2=B7=BD=C3=E6=B5=
=C4=CE=C4=D5=C2=B2=BB=C9=D9=A3=AC=D4=DA=B4=CB=B2=BB=D7=B8=CA=F6=A1=
=A3=D5=E2=C0=EF=CF=EB=CB=B5=D2=BB=CF=C2EndPoint=B5=C4=CA=B9=D3=C3=
=A1=A3&nbsp;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; En=
dPoint=CF=E0=B5=B1=D3=DA=B4=E6=B4=A2=B9=FD=B3=CC=A1=A30.94.x=D6=AE=
=C7=B0=CA=B9=D3=C3EndPoint=D0=E8=D2=AA=CA=B5=CF=D6CoprocessorProt=
ocol=BD=D3=BF=DA=A3=AC=B6=F80.96.x=B5=C4EndPoint=B8=C4=CE=AA=D3=C3=
protobufs=D7=F7=CE=AARPC=B5=C4=D0=AD=D2=E9=A1=A3=D4=DA=B4=CB=D3=C3=
=D2=BB=B8=F6=BE=DF=CC=E5=B5=C4=C0=FD=D7=D3=CB=B5=C3=F7=D2=BB=CF=C2=
=D0=C2=B0=E6=B5=C4EndPoint=B8=C3=D4=F5=C3=B4=CA=B9=D3=C3=A1=A3&nb=
sp;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =C0=FD=C8=E7=
=A3=BA=CD=B3=BC=C6=D2=BB=D5=C5=B1=ED=B5=C4=D0=D0=CA=FD=A1=A3&nbsp=
;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =CA=D7=CF=C8=CA=D7=
=CF=C8=B1=E0=D0=B4protobuf=CE=C4=BC=FE=B2=A2=B1=E0=D2=EB=A1=A3&nb=
sp;<br><div class=3D"dp-highlighter" style=3D"font-family: Monaco=
, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Cour=
ier New', monospace; font-size: 0.75rem; width: 679px; overflow:=20=
auto; margin-left: 9px; padding: 1px; word-break: break-all; word=
-wrap: break-word;"><div class=3D"bar"><div class=3D"tools" style=
=3D"padding: 3px; font-weight: bold;">Java=B4=FA=C2=EB&nbsp;<embe=
d wmode=3D"transparent" src=3D"http://paddy-w.iteye.com/javascrip=
ts/syntaxhighlighter/clipboard_new.swf" width=3D"14" height=3D"15=
" flashvars=3D"clipboard=3Doption%20java_package%20%3D%20%22linec=
ounter%22%3B%0Aoption%20java_outer_classname%20%3D%20%22LineCount=
erServer%22%3B%0Aoption%20java_generic_services%20%3D%20true%3B%0=
Aoption%20java_generate_equals_and_hash%20%3D%20true%3B%0Aoption%=
20optimize_for%3DSPEED%3B%0A%0Amessage%20CountRequest%20%7B%0A%20=
%20%20%20required%20string%20askWord%20%3D%201%3B%0A%7D%0A%0Amess=
age%20CountResponse%20%7B%0A%20%20%20%20required%20int64%20retWor=
d%20%3D%201%3B%0A%7D%0A%0Aservice%20LineCounter%20%7B%0A%20%20%20=
%20rpc%20countLine(CountRequest)%0A%20%20%20%20%20%20%20%20return=
s%20(CountResponse)%3B%0A%7D" quality=3D"high" allowscriptaccess=3D=
"always" type=3D"application/x-shockwave-flash" pluginspage=3D"ht=
tp://www.macromedia.com/go/getflashplayer">&nbsp;<a href title=3D=
"=CA=D5=B2=D8=D5=E2=B6=CE=B4=FA=C2=EB" style=3D"color: rgb(0, 102=
, 0);"><img class=3D"star" src=3D"3955692e-3e3b-413f-a080-4ded2f5=
d2263.png" alt=3D"=CA=D5=B2=D8=B4=FA=C2=EB"></a></div></div><ol c=
lass=3D"dp-j wiz-list-level1" style=3D"font-size: 1rem; line-heig=
ht: 1.4em; margin-bottom: 1px; padding: 2px 0px; border: 1px soli=
d rgb(209, 215, 220); list-style-position: initial; list-style-im=
age: initial; color: rgb(43, 145, 175); background-color: rgb(255=
, 255, 255);"><li style=3D"font-size: 1rem; margin-left: 38px; pa=
dding: 0px 0px 0px 10px; border-left-width: 1px; border-left-styl=
e: solid; border-left-color: rgb(209, 215, 220); line-height: 18p=
x; background-color: rgb(250, 250, 250);"><span style=3D"color: b=
lack;">option&nbsp;java_package&nbsp;=3D&nbsp;<span class=3D"stri=
ng" style=3D"color: blue;">"linecounter"</span>;&nbsp;&nbsp;</spa=
n></li><li style=3D"font-size: 1rem; margin-left: 38px; padding:=20=
0px 0px 0px 10px; border-left-width: 1px; border-left-style: soli=
d; border-left-color: rgb(209, 215, 220); line-height: 18px; back=
ground-color: rgb(250, 250, 250);"><span style=3D"color: black;">=
option&nbsp;java_outer_classname&nbsp;=3D&nbsp;<span class=3D"str=
ing" style=3D"color: blue;">"LineCounterServer"</span>;&nbsp;&nbs=
p;</span></li><li style=3D"font-size: 1rem; margin-left: 38px; pa=
dding: 0px 0px 0px 10px; border-left-width: 1px; border-left-styl=
e: solid; border-left-color: rgb(209, 215, 220); line-height: 18p=
x; background-color: rgb(250, 250, 250);"><span style=3D"color: b=
lack;">option&nbsp;java_generic_services&nbsp;=3D&nbsp;<span clas=
s=3D"keyword" style=3D"color: rgb(127, 0, 85); font-weight: bold;=
">true</span>;&nbsp;&nbsp;</span></li><li style=3D"font-size: 1re=
m; margin-left: 38px; padding: 0px 0px 0px 10px; border-left-widt=
h: 1px; border-left-style: solid; border-left-color: rgb(209, 215=
, 220); line-height: 18px; background-color: rgb(250, 250, 250);"=
><span style=3D"color: black;">option&nbsp;java_generate_equals_a=
nd_hash&nbsp;=3D&nbsp;<span class=3D"keyword" style=3D"color: rgb=
(127, 0, 85); font-weight: bold;">true</span>;&nbsp;&nbsp;</span>=
</li><li style=3D"font-size: 1rem; margin-left: 38px; padding: 0p=
x 0px 0px 10px; border-left-width: 1px; border-left-style: solid;=
 border-left-color: rgb(209, 215, 220); line-height: 18px; backgr=
ound-color: rgb(250, 250, 250);"><span style=3D"color: black;">op=
tion&nbsp;optimize_for=3DSPEED;&nbsp;&nbsp;</span></li><li style=3D=
"font-size: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; b=
order-left-width: 1px; border-left-style: solid; border-left-colo=
r: rgb(209, 215, 220); line-height: 18px; background-color: rgb(2=
50, 250, 250);"><span style=3D"color: black;">&nbsp;&nbsp;</span>=
</li><li style=3D"font-size: 1rem; margin-left: 38px; padding: 0p=
x 0px 0px 10px; border-left-width: 1px; border-left-style: solid;=
 border-left-color: rgb(209, 215, 220); line-height: 18px; backgr=
ound-color: rgb(250, 250, 250);"><span style=3D"color: black;">me=
ssage&nbsp;CountRequest&nbsp;{&nbsp;&nbsp;</span></li><li style=3D=
"font-size: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; b=
order-left-width: 1px; border-left-style: solid; border-left-colo=
r: rgb(209, 215, 220); line-height: 18px; background-color: rgb(2=
50, 250, 250);"><span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&=
nbsp;required&nbsp;string&nbsp;askWord&nbsp;=3D&nbsp;<span class=3D=
"number" style=3D"color: rgb(192, 0, 0);">1</span>;&nbsp;&nbsp;</=
span></li><li style=3D"font-size: 1rem; margin-left: 38px; paddin=
g: 0px 0px 0px 10px; border-left-width: 1px; border-left-style: s=
olid; border-left-color: rgb(209, 215, 220); line-height: 18px; b=
ackground-color: rgb(250, 250, 250);"><span style=3D"color: black=
;">}&nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem; margin-=
left: 38px; padding: 0px 0px 0px 10px; border-left-width: 1px; bo=
rder-left-style: solid; border-left-color: rgb(209, 215, 220); li=
ne-height: 18px; background-color: rgb(250, 250, 250);"><span sty=
le=3D"color: black;">&nbsp;&nbsp;</span></li><li style=3D"font-si=
ze: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; border-le=
ft-width: 1px; border-left-style: solid; border-left-color: rgb(2=
09, 215, 220); line-height: 18px; background-color: rgb(250, 250,=
 250);"><span style=3D"color: black;">message&nbsp;CountResponse&=
nbsp;{&nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem; margi=
n-left: 38px; padding: 0px 0px 0px 10px; border-left-width: 1px;=20=
border-left-style: solid; border-left-color: rgb(209, 215, 220);=20=
line-height: 18px; background-color: rgb(250, 250, 250);"><span s=
tyle=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;required&nbsp;int6=
4&nbsp;retWord&nbsp;=3D&nbsp;<span class=3D"number" style=3D"colo=
r: rgb(192, 0, 0);">1</span>;&nbsp;&nbsp;</span></li><li style=3D=
"font-size: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; b=
order-left-width: 1px; border-left-style: solid; border-left-colo=
r: rgb(209, 215, 220); line-height: 18px; background-color: rgb(2=
50, 250, 250);"><span style=3D"color: black;">}&nbsp;&nbsp;</span=
></li><li style=3D"font-size: 1rem; margin-left: 38px; padding: 0=
px 0px 0px 10px; border-left-width: 1px; border-left-style: solid=
; border-left-color: rgb(209, 215, 220); line-height: 18px; backg=
round-color: rgb(250, 250, 250);"><span style=3D"color: black;">&=
nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem; margin-left:=
 38px; padding: 0px 0px 0px 10px; border-left-width: 1px; border-=
left-style: solid; border-left-color: rgb(209, 215, 220); line-he=
ight: 18px; background-color: rgb(250, 250, 250);"><span style=3D=
"color: black;">service&nbsp;LineCounter&nbsp;{&nbsp;&nbsp;</span=
></li><li style=3D"font-size: 1rem; margin-left: 38px; padding: 0=
px 0px 0px 10px; border-left-width: 1px; border-left-style: solid=
; border-left-color: rgb(209, 215, 220); line-height: 18px; backg=
round-color: rgb(250, 250, 250);"><span style=3D"color: black;">&=
nbsp;&nbsp;&nbsp;&nbsp;rpc&nbsp;countLine(CountRequest)&nbsp;&nbs=
p;</span></li><li style=3D"font-size: 1rem; margin-left: 38px; pa=
dding: 0px 0px 0px 10px; border-left-width: 1px; border-left-styl=
e: solid; border-left-color: rgb(209, 215, 220); line-height: 18p=
x; background-color: rgb(250, 250, 250);"><span style=3D"color: b=
lack;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returns&nb=
sp;(CountResponse);&nbsp;&nbsp;</span></li><li style=3D"font-size=
: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; border-left=
-width: 1px; border-left-style: solid; border-left-color: rgb(209=
, 215, 220); line-height: 18px; background-color: rgb(250, 250, 2=
50);"><span style=3D"color: black;">}&nbsp;&nbsp;</span></li></ol=
></div><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =B1=E0=D2=
=EB=BA=F3=BB=E1=C9=FA=B3=C9LineCounterServer.java&nbsp;<br>&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CountRequest=CA=C7=B7=A2=CB=CD=
=B8=F8=B7=FE=CE=F1=B6=CB=B5=C4=CF=FB=CF=A2=A3=AC=D5=E2=C0=EF=B6=A8=
=D2=E5=D7=D6=B7=FB=B4=AEaskWord=C0=B4=B4=E6=B7=C5=BE=DF=CC=E5=CF=FB=
=CF=A2=C4=DA=C8=DD=A1=A3CounterResponse=CA=C7=B7=B5=BB=D8=B5=C4=BD=
=E1=B9=FB=A3=AC=CD=B3=BC=C6=B5=C4=CA=C7=D0=D0=CA=FD=A3=AC=CB=F9=D2=
=D4=D3=C3long=C0=E0=D0=CD=B4=E6=B7=C5=A1=A3LineCounter=D6=D0=B6=A8=
=D2=E5=D2=BB=B8=F6=B7=BD=B7=A8countLine=A3=AC=B4=AB=B5=DD=C7=EB=C7=
=F3=A3=AC=B7=B5=BB=D8=CF=EC=D3=A6=A1=A3=BE=DF=CC=E5=CB=B5=C3=F7=C7=
=EB=B2=CE=BC=FBprotobuf=A1=A3&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp; =CA=B5=CF=D6EndPoint&nbsp;<br><div class=3D"dp-h=
ighlighter" style=3D"font-family: Monaco, 'DejaVu Sans Mono', 'Bi=
tstream Vera Sans Mono', Consolas, 'Courier New', monospace; font=
-size: 0.75rem; width: 679px; overflow: auto; margin-left: 9px; p=
adding: 1px; word-break: break-all; word-wrap: break-word;"><div=20=
class=3D"bar"><div class=3D"tools" style=3D"padding: 3px; font-we=
ight: bold;">Java=B4=FA=C2=EB&nbsp;<embed wmode=3D"transparent" s=
rc=3D"http://paddy-w.iteye.com/javascripts/syntaxhighlighter/clip=
board_new.swf" width=3D"14" height=3D"15" flashvars=3D"clipboard=3D=
public%20class%20LineCounterEndPoint%20extends%20LineCounterServe=
r.LineCounter%20implements%20Coprocessor%2C%20CoprocessorService%=
20%7B%0A%0A%20%20%20%20private%20RegionCoprocessorEnvironment%20e=
nv%3B%0A%0A%20%20%20%20%40Override%0A%20%20%20%20public%20void%20=
start(CoprocessorEnvironment%20coprocessorEnvironment)%20throws%2=
0IOException%20%7B%0A%20%20%20%20%20%20%20%20if%20(coprocessorEnv=
ironment%20instanceof%20RegionCoprocessorEnvironment)%0A%20%20%20=
%20%20%20%20%20%20%20%20%20this.env%20%3D%20(RegionCoprocessorEnv=
ironment)%20coprocessorEnvironment%3B%0A%20%20%20%20%20%20%20%20e=
lse%20throw%20new%20CoprocessorException(%22Must%20be%20loaded%20=
on%20a%20table%20region!!%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20=
%20%40Override%0A%20%20%20%20public%20void%20stop(CoprocessorEnvi=
ronment%20coprocessorEnvironment)%20throws%20IOException%20%7B%0A=
%0A%20%20%20%20%7D%0A%0A%20%20%20%20%40Override%0A%20%20%20%20pub=
lic%20Service%20getService()%20%7B%0A%20%20%20%20%20%20%20%20retu=
rn%20this%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%40Override%0A%20=
%20%20%20public%20void%20countLine(RpcController%20controller%2C%=
20LineCounterServer.CountRequest%20request%2C%20RpcCallback%3CLin=
eCounterServer.CountResponse%3E%20done)%20%7B%0A%20%20%20%20%20%2=
0%20%20RegionScanner%20scanner%20%3D%20null%3B%0A%20%20%20%20%20%=
20%20%20LineCounterServer.CountResponse.Builder%20respBuilder%20%=
3D%20LineCounterServer.CountResponse.newBuilder()%3B%0A%20%20%20%=
20%20%20%20%20if%20(!%22count%22.equals(request.getAskWord()))%20=
%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20respBuilder.setRetWord(=
23333)%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%=
20%20%20%20%20%20%20%20%20long%20count%20%3D%200%3B%0A%20%20%20%2=
0%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%=
20%20%20%20%20%20%20Scan%20scan%20%3D%20new%20Scan()%3B%0A%20%20%=
20%20%20%20%20%20%20%20%20%20%20%20%20%20scan.setMaxVersions(1)%3=
B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20scanner%20%3D=
%20env.getRegion().getScanner(scan)%3B%0A%20%20%20%20%20%20%20%20=
%20%20%20%20%20%20%20%20List%3CCell%3E%20list%20%3D%20new%20Array=
List%3C%3E()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2=
0while%20(scanner.next(list))%0A%20%20%20%20%20%20%20%20%20%20%20=
%20%20%20%20%20%20%20%20%20count%20%2B%3D%201%3B%0A%20%20%20%20%2=
0%20%20%20%20%20%20%20%20%20%20%20respBuilder.setRetWord(count)%3=
B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20(IOExceptio=
n%20e)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.=
printStackTrace()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20=
finally%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i=
f%20(scanner%20!%3D%20null)%0A%20%20%20%20%20%20%20%20%20%20%20%2=
0%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%=
20%20%20%20%20%20%20%20%20%20%20%20%20%20%20scanner.close()%3B%0A=
%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2=
0catch%20(IOException%20e)%20%7B%0A%20%20%20%20%20%20%20%20%20%20=
%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.printStackTrace()%3B%=
0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D=
%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%2=
0%20%7D%0A%20%20%20%20%20%20%20%20done.run(respBuilder.build())%3=
B%0A%20%20%20%20%7D%0A%7D" quality=3D"high" allowscriptaccess=3D"=
always" type=3D"application/x-shockwave-flash" pluginspage=3D"htt=
p://www.macromedia.com/go/getflashplayer">&nbsp;<a href title=3D"=
=CA=D5=B2=D8=D5=E2=B6=CE=B4=FA=C2=EB" style=3D"color: rgb(0, 102,=
 0);"><img class=3D"star" src=3D"3955692e-3e3b-413f-a080-4ded2f5d=
2263.png" alt=3D"=CA=D5=B2=D8=B4=FA=C2=EB"></a></div></div><ol cl=
ass=3D"dp-j wiz-list-level1" style=3D"font-size: 1rem; line-heigh=
t: 1.4em; margin-bottom: 1px; padding: 2px 0px; border: 1px solid=
 rgb(209, 215, 220); list-style-position: initial; list-style-ima=
ge: initial; color: rgb(43, 145, 175); background-color: rgb(255,=
 255, 255);"><li style=3D"font-size: 1rem; margin-left: 38px; pad=
ding: 0px 0px 0px 10px; border-left-width: 1px; border-left-style=
: solid; border-left-color: rgb(209, 215, 220); line-height: 18px=
; background-color: rgb(250, 250, 250);"><span style=3D"color: bl=
ack;"><span class=3D"keyword" style=3D"color: rgb(127, 0, 85); fo=
nt-weight: bold;">public</span>&nbsp;<span class=3D"keyword" styl=
e=3D"color: rgb(127, 0, 85); font-weight: bold;">class</span>&nbs=
p;LineCounterEndPoint&nbsp;<span class=3D"keyword" style=3D"color=
: rgb(127, 0, 85); font-weight: bold;">extends</span>&nbsp;LineCo=
unterServer.LineCounter&nbsp;<span class=3D"keyword" style=3D"col=
or: rgb(127, 0, 85); font-weight: bold;">implements</span>&nbsp;C=
oprocessor,&nbsp;CoprocessorService&nbsp;{&nbsp;&nbsp;</span></li=
><li style=3D"font-size: 1rem; margin-left: 38px; padding: 0px 0p=
x 0px 10px; border-left-width: 1px; border-left-style: solid; bor=
der-left-color: rgb(209, 215, 220); line-height: 18px; background=
-color: rgb(250, 250, 250);"><span style=3D"color: black;">&nbsp;=
&nbsp;</span></li><li style=3D"font-size: 1rem; margin-left: 38px=
; padding: 0px 0px 0px 10px; border-left-width: 1px; border-left-=
style: solid; border-left-color: rgb(209, 215, 220); line-height:=
 18px; background-color: rgb(250, 250, 250);"><span style=3D"colo=
r: black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class=3D"keyword" style=3D=
"color: rgb(127, 0, 85); font-weight: bold;">private</span>&nbsp;=
RegionCoprocessorEnvironment&nbsp;env;&nbsp;&nbsp;</span></li><li=
 style=3D"font-size: 1rem; margin-left: 38px; padding: 0px 0px 0p=
x 10px; border-left-width: 1px; border-left-style: solid; border-=
left-color: rgb(209, 215, 220); line-height: 18px; background-col=
or: rgb(250, 250, 250);"><span style=3D"color: black;">&nbsp;&nbs=
p;</span></li><li style=3D"font-size: 1rem; margin-left: 38px; pa=
dding: 0px 0px 0px 10px; border-left-width: 1px; border-left-styl=
e: solid; border-left-color: rgb(209, 215, 220); line-height: 18p=
x; background-color: rgb(250, 250, 250);"><span style=3D"color: b=
lack;">&nbsp;&nbsp;&nbsp;&nbsp;<span class=3D"annotation" style=3D=
"color: rgb(100, 100, 100);">@Override</span>&nbsp;&nbsp;</span><=
/li><li style=3D"font-size: 1rem; margin-left: 38px; padding: 0px=
 0px 0px 10px; border-left-width: 1px; border-left-style: solid;=20=
border-left-color: rgb(209, 215, 220); line-height: 18px; backgro=
und-color: rgb(250, 250, 250);"><span style=3D"color: black;">&nb=
sp;&nbsp;&nbsp;&nbsp;<span class=3D"keyword" style=3D"color: rgb(=
127, 0, 85); font-weight: bold;">public</span>&nbsp;<span class=3D=
"keyword" style=3D"color: rgb(127, 0, 85); font-weight: bold;">vo=
id</span>&nbsp;start(CoprocessorEnvironment&nbsp;coprocessorEnvir=
onment)&nbsp;<span class=3D"keyword" style=3D"color: rgb(127, 0,=20=
85); font-weight: bold;">throws</span>&nbsp;IOException&nbsp;{&nb=
sp;&nbsp;</span></li><li style=3D"font-size: 1rem; margin-left: 3=
8px; padding: 0px 0px 0px 10px; border-left-width: 1px; border-le=
ft-style: solid; border-left-color: rgb(209, 215, 220); line-heig=
ht: 18px; background-color: rgb(250, 250, 250);"><span style=3D"c=
olor: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<sp=
an class=3D"keyword" style=3D"color: rgb(127, 0, 85); font-weight=
: bold;">if</span>&nbsp;(coprocessorEnvironment&nbsp;<span class=3D=
"keyword" style=3D"color: rgb(127, 0, 85); font-weight: bold;">in=
stanceof</span>&nbsp;RegionCoprocessorEnvironment)&nbsp;&nbsp;</s=
pan></li><li style=3D"font-size: 1rem; margin-left: 38px; padding=
: 0px 0px 0px 10px; border-left-width: 1px; border-left-style: so=
lid; border-left-color: rgb(209, 215, 220); line-height: 18px; ba=
ckground-color: rgb(250, 250, 250);"><span style=3D"color: black;=
">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;<span class=3D"keyword" style=3D"color: rgb(127, 0, 85);=
 font-weight: bold;">this</span>.env&nbsp;=3D&nbsp;(RegionCoproce=
ssorEnvironment)&nbsp;coprocessorEnvironment;&nbsp;&nbsp;</span><=
/li><li style=3D"font-size: 1rem; margin-left: 38px; padding: 0px=
 0px 0px 10px; border-left-width: 1px; border-left-style: solid;=20=
border-left-color: rgb(209, 215, 220); line-height: 18px; backgro=
und-color: rgb(250, 250, 250);"><span style=3D"color: black;">&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=3D"keywo=
rd" style=3D"color: rgb(127, 0, 85); font-weight: bold;">else</sp=
an>&nbsp;<span class=3D"keyword" style=3D"color: rgb(127, 0, 85);=
 font-weight: bold;">throw</span>&nbsp;<span class=3D"keyword" st=
yle=3D"color: rgb(127, 0, 85); font-weight: bold;">new</span>&nbs=
p;CoprocessorException(<span class=3D"string" style=3D"color: blu=
e;">"Must&nbsp;be&nbsp;loaded&nbsp;on&nbsp;a&nbsp;table&nbsp;regi=
on!!"</span>);&nbsp;&nbsp;</span></li><li style=3D"font-size: 1re=
m; margin-left: 38px; padding: 0px 0px 0px 10px; border-left-widt=
h: 1px; border-left-style: solid; border-left-color: rgb(209, 215=
, 220); line-height: 18px; background-color: rgb(250, 250, 250);"=
><span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nb=
sp;</span></li><li style=3D"font-size: 1rem; margin-left: 38px; p=
adding: 0px 0px 0px 10px; border-left-width: 1px; border-left-sty=
le: solid; border-left-color: rgb(209, 215, 220); line-height: 18=
px; background-color: rgb(250, 250, 250);"><span style=3D"color:=20=
black;">&nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem; mar=
gin-left: 38px; padding: 0px 0px 0px 10px; border-left-width: 1px=
; border-left-style: solid; border-left-color: rgb(209, 215, 220)=
; line-height: 18px; background-color: rgb(250, 250, 250);"><span=
 style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class=3D"a=
nnotation" style=3D"color: rgb(100, 100, 100);">@Override</span>&=
nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem; margin-left:=
 38px; padding: 0px 0px 0px 10px; border-left-width: 1px; border-=
left-style: solid; border-left-color: rgb(209, 215, 220); line-he=
ight: 18px; background-color: rgb(250, 250, 250);"><span style=3D=
"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class=3D"keyword" s=
tyle=3D"color: rgb(127, 0, 85); font-weight: bold;">public</span>=
&nbsp;<span class=3D"keyword" style=3D"color: rgb(127, 0, 85); fo=
nt-weight: bold;">void</span>&nbsp;stop(CoprocessorEnvironment&nb=
sp;coprocessorEnvironment)&nbsp;<span class=3D"keyword" style=3D"=
color: rgb(127, 0, 85); font-weight: bold;">throws</span>&nbsp;IO=
Exception&nbsp;{&nbsp;&nbsp;</span></li><li style=3D"font-size: 1=
rem; margin-left: 38px; padding: 0px 0px 0px 10px; border-left-wi=
dth: 1px; border-left-style: solid; border-left-color: rgb(209, 2=
15, 220); line-height: 18px; background-color: rgb(250, 250, 250)=
;"><span style=3D"color: black;">&nbsp;&nbsp;</span></li><li styl=
e=3D"font-size: 1rem; margin-left: 38px; padding: 0px 0px 0px 10p=
x; border-left-width: 1px; border-left-style: solid; border-left-=
color: rgb(209, 215, 220); line-height: 18px; background-color: r=
gb(250, 250, 250);"><span style=3D"color: black;">&nbsp;&nbsp;&nb=
sp;&nbsp;}&nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem; m=
argin-left: 38px; padding: 0px 0px 0px 10px; border-left-width: 1=
px; border-left-style: solid; border-left-color: rgb(209, 215, 22=
0); line-height: 18px; background-color: rgb(250, 250, 250);"><sp=
an style=3D"color: black;">&nbsp;&nbsp;</span></li><li style=3D"f=
ont-size: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; bor=
der-left-width: 1px; border-left-style: solid; border-left-color:=
 rgb(209, 215, 220); line-height: 18px; background-color: rgb(250=
, 250, 250);"><span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nb=
sp;<span class=3D"annotation" style=3D"color: rgb(100, 100, 100);=
">@Override</span>&nbsp;&nbsp;</span></li><li style=3D"font-size:=
 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; border-left-=
width: 1px; border-left-style: solid; border-left-color: rgb(209,=
 215, 220); line-height: 18px; background-color: rgb(250, 250, 25=
0);"><span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;<span=20=
class=3D"keyword" style=3D"color: rgb(127, 0, 85); font-weight: b=
old;">public</span>&nbsp;Service&nbsp;getService()&nbsp;{&nbsp;&n=
bsp;</span></li><li style=3D"font-size: 1rem; margin-left: 38px;=20=
padding: 0px 0px 0px 10px; border-left-width: 1px; border-left-st=
yle: solid; border-left-color: rgb(209, 215, 220); line-height: 1=
8px; background-color: rgb(250, 250, 250);"><span style=3D"color:=
 black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span cl=
ass=3D"keyword" style=3D"color: rgb(127, 0, 85); font-weight: bol=
d;">return</span>&nbsp;<span class=3D"keyword" style=3D"color: rg=
b(127, 0, 85); font-weight: bold;">this</span>;&nbsp;&nbsp;</span=
></li><li style=3D"font-size: 1rem; margin-left: 38px; padding: 0=
px 0px 0px 10px; border-left-width: 1px; border-left-style: solid=
; border-left-color: rgb(209, 215, 220); line-height: 18px; backg=
round-color: rgb(250, 250, 250);"><span style=3D"color: black;">&=
nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li style=3D"font=
-size: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; border=
-left-width: 1px; border-left-style: solid; border-left-color: rg=
b(209, 215, 220); line-height: 18px; background-color: rgb(250, 2=
50, 250);"><span style=3D"color: black;">&nbsp;&nbsp;</span></li>=
<li style=3D"font-size: 1rem; margin-left: 38px; padding: 0px 0px=
 0px 10px; border-left-width: 1px; border-left-style: solid; bord=
er-left-color: rgb(209, 215, 220); line-height: 18px; background-=
color: rgb(250, 250, 250);"><span style=3D"color: black;">&nbsp;&=
nbsp;&nbsp;&nbsp;<span class=3D"annotation" style=3D"color: rgb(1=
00, 100, 100);">@Override</span>&nbsp;&nbsp;</span></li><li style=
=3D"font-size: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px=
; border-left-width: 1px; border-left-style: solid; border-left-c=
olor: rgb(209, 215, 220); line-height: 18px; background-color: rg=
b(250, 250, 250);"><span style=3D"color: black;">&nbsp;&nbsp;&nbs=
p;&nbsp;<span class=3D"keyword" style=3D"color: rgb(127, 0, 85);=20=
font-weight: bold;">public</span>&nbsp;<span class=3D"keyword" st=
yle=3D"color: rgb(127, 0, 85); font-weight: bold;">void</span>&nb=
sp;countLine(RpcController&nbsp;controller,&nbsp;LineCounterServe=
r.CountRequest&nbsp;request,&nbsp;RpcCallback&lt;LineCounterServe=
r.CountResponse&gt;&nbsp;done)&nbsp;{&nbsp;&nbsp;</span></li><li=20=
style=3D"font-size: 1rem; margin-left: 38px; padding: 0px 0px 0px=
 10px; border-left-width: 1px; border-left-style: solid; border-l=
eft-color: rgb(209, 215, 220); line-height: 18px; background-colo=
r: rgb(250, 250, 250);"><span style=3D"color: black;">&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RegionScanner&nbsp;scanner&n=
bsp;=3D&nbsp;<span class=3D"keyword" style=3D"color: rgb(127, 0,=20=
85); font-weight: bold;">null</span>;&nbsp;&nbsp;</span></li><li=20=
style=3D"font-size: 1rem; margin-left: 38px; padding: 0px 0px 0px=
 10px; border-left-width: 1px; border-left-style: solid; border-l=
eft-color: rgb(209, 215, 220); line-height: 18px; background-colo=
r: rgb(250, 250, 250);"><span style=3D"color: black;">&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LineCounterServer.CountRespo=
nse.Builder&nbsp;respBuilder&nbsp;=3D&nbsp;LineCounterServer.Coun=
tResponse.newBuilder();&nbsp;&nbsp;</span></li><li style=3D"font-=
size: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; border-=
left-width: 1px; border-left-style: solid; border-left-color: rgb=
(209, 215, 220); line-height: 18px; background-color: rgb(250, 25=
0, 250);"><span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;<span class=3D"keyword" style=3D"color: rg=
b(127, 0, 85); font-weight: bold;">if</span>&nbsp;(!<span class=3D=
"string" style=3D"color: blue;">"count"</span>.equals(request.get=
AskWord()))&nbsp;{&nbsp;&nbsp;</span></li><li style=3D"font-size:=
 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; border-left-=
width: 1px; border-left-style: solid; border-left-color: rgb(209,=
 215, 220); line-height: 18px; background-color: rgb(250, 250, 25=
0);"><span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;respBuilder.setRetWord(=
<span class=3D"number" style=3D"color: rgb(192, 0, 0);">23333</sp=
an>);&nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem; margin=
-left: 38px; padding: 0px 0px 0px 10px; border-left-width: 1px; b=
order-left-style: solid; border-left-color: rgb(209, 215, 220); l=
ine-height: 18px; background-color: rgb(250, 250, 250);"><span st=
yle=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;}&nbsp;<span class=3D"keyword" style=3D"color: rgb(127, 0, 8=
5); font-weight: bold;">else</span>&nbsp;{&nbsp;&nbsp;</span></li=
><li style=3D"font-size: 1rem; margin-left: 38px; padding: 0px 0p=
x 0px 10px; border-left-width: 1px; border-left-style: solid; bor=
der-left-color: rgb(209, 215, 220); line-height: 18px; background=
-color: rgb(250, 250, 250);"><span style=3D"color: black;">&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;<span class=3D"keyword" style=3D"color: rgb(127, 0, 85); font-we=
ight: bold;">long</span>&nbsp;count&nbsp;=3D&nbsp;<span class=3D"=
number" style=3D"color: rgb(192, 0, 0);">0</span>;&nbsp;&nbsp;</s=
pan></li><li style=3D"font-size: 1rem; margin-left: 38px; padding=
: 0px 0px 0px 10px; border-left-width: 1px; border-left-style: so=
lid; border-left-color: rgb(209, 215, 220); line-height: 18px; ba=
ckground-color: rgb(250, 250, 250);"><span style=3D"color: black;=
">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;<span class=3D"keyword" style=3D"color: rgb(127, 0, 85);=
 font-weight: bold;">try</span>&nbsp;{&nbsp;&nbsp;</span></li><li=
 style=3D"font-size: 1rem; margin-left: 38px; padding: 0px 0px 0p=
x 10px; border-left-width: 1px; border-left-style: solid; border-=
left-color: rgb(209, 215, 220); line-height: 18px; background-col=
or: rgb(250, 250, 250);"><span style=3D"color: black;">&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;Scan&nbsp;scan&nbsp;=3D&nbsp;<span class=3D"=
keyword" style=3D"color: rgb(127, 0, 85); font-weight: bold;">new=
</span>&nbsp;Scan();&nbsp;&nbsp;</span></li><li style=3D"font-siz=
e: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; border-lef=
t-width: 1px; border-left-style: solid; border-left-color: rgb(20=
9, 215, 220); line-height: 18px; background-color: rgb(250, 250,=20=
250);"><span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;scan.setMaxVersions(<span class=3D"number" style=3D"color: rgb=
(192, 0, 0);">1</span>);&nbsp;&nbsp;</span></li><li style=3D"font=
-size: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; border=
-left-width: 1px; border-left-style: solid; border-left-color: rg=
b(209, 215, 220); line-height: 18px; background-color: rgb(250, 2=
50, 250);"><span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;scanner&nbsp;=3D&nbsp;env.getRegion().getScanner(scan);&nb=
sp;&nbsp;</span></li><li style=3D"font-size: 1rem; margin-left: 3=
8px; padding: 0px 0px 0px 10px; border-left-width: 1px; border-le=
ft-style: solid; border-left-color: rgb(209, 215, 220); line-heig=
ht: 18px; background-color: rgb(250, 250, 250);"><span style=3D"c=
olor: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List&lt;Cell&gt;&nbs=
p;list&nbsp;=3D&nbsp;<span class=3D"keyword" style=3D"color: rgb(=
127, 0, 85); font-weight: bold;">new</span>&nbsp;ArrayList&lt;&gt=
;();&nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem; margin-=
left: 38px; padding: 0px 0px 0px 10px; border-left-width: 1px; bo=
rder-left-style: solid; border-left-color: rgb(209, 215, 220); li=
ne-height: 18px; background-color: rgb(250, 250, 250);"><span sty=
le=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=3D=
"keyword" style=3D"color: rgb(127, 0, 85); font-weight: bold;">wh=
ile</span>&nbsp;(scanner.next(list))&nbsp;&nbsp;</span></li><li s=
tyle=3D"font-size: 1rem; margin-left: 38px; padding: 0px 0px 0px=20=
10px; border-left-width: 1px; border-left-style: solid; border-le=
ft-color: rgb(209, 215, 220); line-height: 18px; background-color=
: rgb(250, 250, 250);"><span style=3D"color: black;">&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count&nbsp;+=3D&nbsp;<=
span class=3D"number" style=3D"color: rgb(192, 0, 0);">1</span>;&=
nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem; margin-left:=
 38px; padding: 0px 0px 0px 10px; border-left-width: 1px; border-=
left-style: solid; border-left-color: rgb(209, 215, 220); line-he=
ight: 18px; background-color: rgb(250, 250, 250);"><span style=3D=
"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;respBuilder.setRet=
Word(count);&nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem;=
 margin-left: 38px; padding: 0px 0px 0px 10px; border-left-width:=
 1px; border-left-style: solid; border-left-color: rgb(209, 215,=20=
220); line-height: 18px; background-color: rgb(250, 250, 250);"><=
span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class=3D"keyword=
" style=3D"color: rgb(127, 0, 85); font-weight: bold;">catch</spa=
n>&nbsp;(IOException&nbsp;e)&nbsp;{&nbsp;&nbsp;</span></li><li st=
yle=3D"font-size: 1rem; margin-left: 38px; padding: 0px 0px 0px 1=
0px; border-left-width: 1px; border-left-style: solid; border-lef=
t-color: rgb(209, 215, 220); line-height: 18px; background-color:=
 rgb(250, 250, 250);"><span style=3D"color: black;">&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;e.printStackTrace();&nbsp;&nbsp;</span></li><li=
 style=3D"font-size: 1rem; margin-left: 38px; padding: 0px 0px 0p=
x 10px; border-left-width: 1px; border-left-style: solid; border-=
left-color: rgb(209, 215, 220); line-height: 18px; background-col=
or: rgb(250, 250, 250);"><span style=3D"color: black;">&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&n=
bsp;<span class=3D"keyword" style=3D"color: rgb(127, 0, 85); font=
-weight: bold;">finally</span>&nbsp;{&nbsp;&nbsp;</span></li><li=20=
style=3D"font-size: 1rem; margin-left: 38px; padding: 0px 0px 0px=
 10px; border-left-width: 1px; border-left-style: solid; border-l=
eft-color: rgb(209, 215, 220); line-height: 18px; background-colo=
r: rgb(250, 250, 250);"><span style=3D"color: black;">&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;<span class=3D"keyword" style=3D"color: rgb(1=
27, 0, 85); font-weight: bold;">if</span>&nbsp;(scanner&nbsp;!=3D=
&nbsp;<span class=3D"keyword" style=3D"color: rgb(127, 0, 85); fo=
nt-weight: bold;">null</span>)&nbsp;&nbsp;</span></li><li style=3D=
"font-size: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; b=
order-left-width: 1px; border-left-style: solid; border-left-colo=
r: rgb(209, 215, 220); line-height: 18px; background-color: rgb(2=
50, 250, 250);"><span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=3D"keyword" style=
=3D"color: rgb(127, 0, 85); font-weight: bold;">try</span>&nbsp;{=
&nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem; margin-left=
: 38px; padding: 0px 0px 0px 10px; border-left-width: 1px; border=
-left-style: solid; border-left-color: rgb(209, 215, 220); line-h=
eight: 18px; background-color: rgb(250, 250, 250);"><span style=3D=
"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scanner.close();&nbsp;&nbsp;</span>=
</li><li style=3D"font-size: 1rem; margin-left: 38px; padding: 0p=
x 0px 0px 10px; border-left-width: 1px; border-left-style: solid;=
 border-left-color: rgb(209, 215, 220); line-height: 18px; backgr=
ound-color: rgb(250, 250, 250);"><span style=3D"color: black;">&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span=
 class=3D"keyword" style=3D"color: rgb(127, 0, 85); font-weight:=20=
bold;">catch</span>&nbsp;(IOException&nbsp;e)&nbsp;{&nbsp;&nbsp;<=
/span></li><li style=3D"font-size: 1rem; margin-left: 38px; paddi=
ng: 0px 0px 0px 10px; border-left-width: 1px; border-left-style:=20=
solid; border-left-color: rgb(209, 215, 220); line-height: 18px;=20=
background-color: rgb(250, 250, 250);"><span style=3D"color: blac=
k;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;e.printStackTrace();&nbsp;&nbsp;</span></li><li=
 style=3D"font-size: 1rem; margin-left: 38px; padding: 0px 0px 0p=
x 10px; border-left-width: 1px; border-left-style: solid; border-=
left-color: rgb(209, 215, 220); line-height: 18px; background-col=
or: rgb(250, 250, 250);"><span style=3D"color: black;">&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span>=
</li><li style=3D"font-size: 1rem; margin-left: 38px; padding: 0p=
x 0px 0px 10px; border-left-width: 1px; border-left-style: solid;=
 border-left-color: rgb(209, 215, 220); line-height: 18px; backgr=
ound-color: rgb(250, 250, 250);"><span style=3D"color: black;">&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;}&nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem; margi=
n-left: 38px; padding: 0px 0px 0px 10px; border-left-width: 1px;=20=
border-left-style: solid; border-left-color: rgb(209, 215, 220);=20=
line-height: 18px; background-color: rgb(250, 250, 250);"><span s=
tyle=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;}&nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem; marg=
in-left: 38px; padding: 0px 0px 0px 10px; border-left-width: 1px;=
 border-left-style: solid; border-left-color: rgb(209, 215, 220);=
 line-height: 18px; background-color: rgb(250, 250, 250);"><span=20=
style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;done.run(respBuilder.build());&nbsp;&nbsp;</span></li><li=20=
style=3D"font-size: 1rem; margin-left: 38px; padding: 0px 0px 0px=
 10px; border-left-width: 1px; border-left-style: solid; border-l=
eft-color: rgb(209, 215, 220); line-height: 18px; background-colo=
r: rgb(250, 250, 250);"><span style=3D"color: black;">&nbsp;&nbsp=
;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li style=3D"font-size: 1re=
m; margin-left: 38px; padding: 0px 0px 0px 10px; border-left-widt=
h: 1px; border-left-style: solid; border-left-color: rgb(209, 215=
, 220); line-height: 18px; background-color: rgb(250, 250, 250);"=
><span style=3D"color: black;">}&nbsp;&nbsp;</span></li></ol></di=
v><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LineCounterEndPo=
int=D0=E8=D2=AA=BC=CC=B3=D0=B3=E9=CF=F3=C0=E0LineCounter=B2=A2=CA=
=B5=CF=D6Coprocessor=BA=CDCoprocessorService=BD=D3=BF=DA=A1=A3Lin=
eCounter=D4=DA=B8=D5=B2=C5=C9=FA=B3=C9=B5=C4java=CE=C4=BC=FE=C0=EF=
=A1=A3&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; start=BA=
=CDstop=B7=BD=B7=A8=B7=D6=B1=F0=B8=BA=D4=F0endpoint=D6=B4=D0=D0=C7=
=B0=B5=C4=B3=F5=CA=BC=BB=AF=BA=CD=BD=E1=CA=F8=BA=F3=B5=C4=C7=E5=C0=
=ED=B9=A4=D7=F7=A1=A3start=B7=BD=B7=A8=B5=C4=B2=CE=CA=FD=CA=C7=D2=
=BB=B8=F6=BD=D3=BF=DA=A3=AC=D0=E8=D2=AA=B8=F9=BE=DD=CA=B5=BC=CA=BB=
=B7=BE=B3=BD=AB=C6=E4=D7=AA=B3=C9=D0=E8=D2=AA=B5=C4=C0=E0=D0=CD=A1=
=A3&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =D6=F7=D2=
=AA=D0=E8=D2=AA=CA=B5=CF=D6=B5=C4=CA=C7countLine=B7=BD=B7=A8=A3=AC=
=D5=E2=D2=B2=B8=D5=B2=C5=D4=DAprotobuf=D6=D0=B6=A8=D2=E5=B5=C4=B7=
=BD=B7=A8=A1=A3=CE=AA=C1=CB=B2=E2=CA=D4=D0=A7=B9=FB=A3=AC=D5=E2=C0=
=EF=B6=D4=C7=EB=C7=F3=D7=F6=C1=CB=D2=BB=B8=F6=C7=F8=B7=D6=A3=BA=C8=
=E7=B9=FB=CA=D5=B5=BD=B5=C4=C7=EB=C7=F3=D0=C5=CF=A2=B2=BB=CA=C7=A1=
=B0count=A1=B1=A3=AC=C4=C7=C3=B4=B7=B5=BB=D823333=A3=BB=B7=F1=D4=F2=
=CD=B3=BC=C6region=B5=C4=BC=C7=C2=BC=D0=D0=CA=FD=B2=A2=B7=B5=BB=D8=
=A1=A3&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =CA=B5=
=CF=D6Client=B6=CB&nbsp;<br><div class=3D"dp-highlighter" style=3D=
"font-family: Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mo=
no', Consolas, 'Courier New', monospace; font-size: 0.75rem; widt=
h: 679px; overflow: auto; margin-left: 9px; padding: 1px; word-br=
eak: break-all; word-wrap: break-word;"><div class=3D"bar"><div c=
lass=3D"tools" style=3D"padding: 3px; font-weight: bold;">Java=B4=
=FA=C2=EB&nbsp;<embed wmode=3D"transparent" src=3D"http://paddy-w=
.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf" width=
=3D"14" height=3D"15" flashvars=3D"clipboard=3Dpublic%20class%20L=
ineCounterClient%20%7B%0A%0A%20%20%20%20public%20static%20void%20=
main(String%5B%5D%20args)%20throws%20Throwable%20%7B%0A%20%20%20%=
20%20%20%20%20Configuration%20conf%20%3D%20HBaseConfiguration.cre=
ate()%3B%0A%20%20%20%20%20%20%20%20conf.set(%22hbase.zookeeper.qu=
orum%22%2C%20%22zk_host1%3A2181%2Czk_host2%3A2181%2Czk_host3%3A21=
81%22)%3B%0A%20%20%20%20%20%20%20%20conf.set(%22hbase.master%22%2=
C%20%22host_master%3A60000%22)%3B%0A%20%20%20%20%20%20%20%20HTabl=
e%20table%20%3D%20new%20HTable(conf%2C%20%22count_test%22)%3B%0A%=
20%20%20%20%20%20%20%20final%20LineCounterServer.CountRequest%20r=
eq%20%3D%20LineCounterServer.CountRequest.newBuilder().setAskWord=
(%22count%22).build()%3B%0A%20%20%20%20%20%20%20%20Map%3Cbyte%5B%=
5D%2C%20Long%3E%20tmpRet%20%3D%20table.coprocessorService(LineCou=
nterServer.LineCounter.class%2C%20null%2C%20null%2C%20new%20Batch=
.Call%3CLineCounterServer.LineCounter%2C%20Long%3E()%20%7B%0A%20%=
20%20%20%20%20%20%20%20%20%20%20%40Override%0A%20%20%20%20%20%20%=
20%20%20%20%20%20public%20Long%20call(LineCounterServer.LineCount=
er%20instance)%20throws%20IOException%20%7B%0A%20%20%20%20%20%20%=
20%20%20%20%20%20%20%20%20%20ServerRpcController%20controller%20%=
3D%20new%20ServerRpcController()%3B%0A%20%20%20%20%20%20%20%20%20=
%20%20%20%20%20%20%20BlockingRpcCallback%3CLineCounterServer.Coun=
tResponse%3E%20rpc%20%3D%20new%20BlockingRpcCallback%3C%3E()%3B%0=
A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20instance.countLi=
ne(controller%2C%20req%2C%20rpc)%3B%0A%20%20%20%20%20%20%20%20%20=
%20%20%20%20%20%20%20LineCounterServer.CountResponse%20resp%20%3D=
%20rpc.get()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2=
0return%20resp.getRetWord()%3B%0A%20%20%20%20%20%20%20%20%20%20%2=
0%20%7D%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20=
%20long%20ret%20%3D%200%3B%0A%20%20%20%20%20%20%20%20for%20(long%=
20l%20%3A%20tmpRet.values())%0A%20%20%20%20%20%20%20%20%20%20%20%=
20ret%20%2B%3D%20l%3B%0A%20%20%20%20%20%20%20%20System.out.printl=
n(%22lines%3A%20%22%20%2B%20ret)%3B%0A%20%20%20%20%7D%0A%7D" qual=
ity=3D"high" allowscriptaccess=3D"always" type=3D"application/x-s=
hockwave-flash" pluginspage=3D"http://www.macromedia.com/go/getfl=
ashplayer">&nbsp;<a href title=3D"=CA=D5=B2=D8=D5=E2=B6=CE=B4=FA=C2=
=EB" style=3D"color: rgb(0, 102, 0);"><img class=3D"star" src=3D"=
3955692e-3e3b-413f-a080-4ded2f5d2263.png" alt=3D"=CA=D5=B2=D8=B4=FA=
=C2=EB"></a></div></div><ol class=3D"dp-j wiz-list-level1" style=3D=
"font-size: 1rem; line-height: 1.4em; margin-bottom: 1px; padding=
: 2px 0px; border: 1px solid rgb(209, 215, 220); list-style-posit=
ion: initial; list-style-image: initial; color: rgb(43, 145, 175)=
; background-color: rgb(255, 255, 255);"><li style=3D"font-size:=20=
1rem; margin-left: 38px; padding: 0px 0px 0px 10px; border-left-w=
idth: 1px; border-left-style: solid; border-left-color: rgb(209,=20=
215, 220); line-height: 18px; background-color: rgb(250, 250, 250=
);"><span style=3D"color: black;"><span class=3D"keyword" style=3D=
"color: rgb(127, 0, 85); font-weight: bold;">public</span>&nbsp;<=
span class=3D"keyword" style=3D"color: rgb(127, 0, 85); font-weig=
ht: bold;">class</span>&nbsp;LineCounterClient&nbsp;{&nbsp;&nbsp;=
</span></li><li style=3D"font-size: 1rem; margin-left: 38px; padd=
ing: 0px 0px 0px 10px; border-left-width: 1px; border-left-style:=
 solid; border-left-color: rgb(209, 215, 220); line-height: 18px;=
 background-color: rgb(250, 250, 250);"><span style=3D"color: bla=
ck;">&nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem; margin=
-left: 38px; padding: 0px 0px 0px 10px; border-left-width: 1px; b=
order-left-style: solid; border-left-color: rgb(209, 215, 220); l=
ine-height: 18px; background-color: rgb(250, 250, 250);"><span st=
yle=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;<span class=3D"keyw=
ord" style=3D"color: rgb(127, 0, 85); font-weight: bold;">public<=
/span>&nbsp;<span class=3D"keyword" style=3D"color: rgb(127, 0, 8=
5); font-weight: bold;">static</span>&nbsp;<span class=3D"keyword=
" style=3D"color: rgb(127, 0, 85); font-weight: bold;">void</span=
>&nbsp;main(String[]&nbsp;args)&nbsp;<span class=3D"keyword" styl=
e=3D"color: rgb(127, 0, 85); font-weight: bold;">throws</span>&nb=
sp;Throwable&nbsp;{&nbsp;&nbsp;</span></li><li style=3D"font-size=
: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; border-left=
-width: 1px; border-left-style: solid; border-left-color: rgb(209=
, 215, 220); line-height: 18px; background-color: rgb(250, 250, 2=
50);"><span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;Configuration&nbsp;conf&nbsp;=3D&nbsp;HBaseCon=
figuration.create();&nbsp;&nbsp;</span></li><li style=3D"font-siz=
e: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; border-lef=
t-width: 1px; border-left-style: solid; border-left-color: rgb(20=
9, 215, 220); line-height: 18px; background-color: rgb(250, 250,=20=
250);"><span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;conf.set(<span class=3D"string" style=3D"colo=
r: blue;">"hbase.zookeeper.quorum"</span>,&nbsp;<span class=3D"st=
ring" style=3D"color: blue;">"zk_host1:2181,zk_host2:2181,zk_host=
3:2181"</span>);&nbsp;&nbsp;</span></li><li style=3D"font-size: 1=
rem; margin-left: 38px; padding: 0px 0px 0px 10px; border-left-wi=
dth: 1px; border-left-style: solid; border-left-color: rgb(209, 2=
15, 220); line-height: 18px; background-color: rgb(250, 250, 250)=
;"><span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;conf.set(<span class=3D"string" style=3D"color: b=
lue;">"hbase.master"</span>,&nbsp;<span class=3D"string" style=3D=
"color: blue;">"host_master:60000"</span>);&nbsp;&nbsp;</span></l=
i><li style=3D"font-size: 1rem; margin-left: 38px; padding: 0px 0=
px 0px 10px; border-left-width: 1px; border-left-style: solid; bo=
rder-left-color: rgb(209, 215, 220); line-height: 18px; backgroun=
d-color: rgb(250, 250, 250);"><span style=3D"color: black;">&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HTable&nbsp;table&nbsp=
;=3D&nbsp;<span class=3D"keyword" style=3D"color: rgb(127, 0, 85)=
; font-weight: bold;">new</span>&nbsp;HTable(conf,&nbsp;<span cla=
ss=3D"string" style=3D"color: blue;">"count_test"</span>);&nbsp;&=
nbsp;</span></li><li style=3D"font-size: 1rem; margin-left: 38px;=
 padding: 0px 0px 0px 10px; border-left-width: 1px; border-left-s=
tyle: solid; border-left-color: rgb(209, 215, 220); line-height:=20=
18px; background-color: rgb(250, 250, 250);"><span style=3D"color=
: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span c=
lass=3D"keyword" style=3D"color: rgb(127, 0, 85); font-weight: bo=
ld;">final</span>&nbsp;LineCounterServer.CountRequest&nbsp;req&nb=
sp;=3D&nbsp;LineCounterServer.CountRequest.newBuilder().setAskWor=
d(<span class=3D"string" style=3D"color: blue;">"count"</span>).b=
uild();&nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem; marg=
in-left: 38px; padding: 0px 0px 0px 10px; border-left-width: 1px;=
 border-left-style: solid; border-left-color: rgb(209, 215, 220);=
 line-height: 18px; background-color: rgb(250, 250, 250);"><span=20=
style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;Map&lt;<span class=3D"keyword" style=3D"color: rgb(127, 0,=
 85); font-weight: bold;">byte</span>[],&nbsp;Long&gt;&nbsp;tmpRe=
t&nbsp;=3D&nbsp;table.coprocessorService(LineCounterServer.LineCo=
unter.<span class=3D"keyword" style=3D"color: rgb(127, 0, 85); fo=
nt-weight: bold;">class</span>,&nbsp;<span class=3D"keyword" styl=
e=3D"color: rgb(127, 0, 85); font-weight: bold;">null</span>,&nbs=
p;<span class=3D"keyword" style=3D"color: rgb(127, 0, 85); font-w=
eight: bold;">null</span>,&nbsp;<span class=3D"keyword" style=3D"=
color: rgb(127, 0, 85); font-weight: bold;">new</span>&nbsp;Batch=
.Call&lt;LineCounterServer.LineCounter,&nbsp;Long&gt;()&nbsp;{&nb=
sp;&nbsp;</span></li><li style=3D"font-size: 1rem; margin-left: 3=
8px; padding: 0px 0px 0px 10px; border-left-width: 1px; border-le=
ft-style: solid; border-left-color: rgb(209, 215, 220); line-heig=
ht: 18px; background-color: rgb(250, 250, 250);"><span style=3D"c=
olor: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;<span class=3D"annotation" style=3D"color: r=
gb(100, 100, 100);">@Override</span>&nbsp;&nbsp;</span></li><li s=
tyle=3D"font-size: 1rem; margin-left: 38px; padding: 0px 0px 0px=20=
10px; border-left-width: 1px; border-left-style: solid; border-le=
ft-color: rgb(209, 215, 220); line-height: 18px; background-color=
: rgb(250, 250, 250);"><span style=3D"color: black;">&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span=
 class=3D"keyword" style=3D"color: rgb(127, 0, 85); font-weight:=20=
bold;">public</span>&nbsp;Long&nbsp;call(LineCounterServer.LineCo=
unter&nbsp;instance)&nbsp;<span class=3D"keyword" style=3D"color:=
 rgb(127, 0, 85); font-weight: bold;">throws</span>&nbsp;IOExcept=
ion&nbsp;{&nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem; m=
argin-left: 38px; padding: 0px 0px 0px 10px; border-left-width: 1=
px; border-left-style: solid; border-left-color: rgb(209, 215, 22=
0); line-height: 18px; background-color: rgb(250, 250, 250);"><sp=
an style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ServerR=
pcController&nbsp;controller&nbsp;=3D&nbsp;<span class=3D"keyword=
" style=3D"color: rgb(127, 0, 85); font-weight: bold;">new</span>=
&nbsp;ServerRpcController();&nbsp;&nbsp;</span></li><li style=3D"=
font-size: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; bo=
rder-left-width: 1px; border-left-style: solid; border-left-color=
: rgb(209, 215, 220); line-height: 18px; background-color: rgb(25=
0, 250, 250);"><span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;BlockingRpcCallback&lt;LineCounterServer.CountResponse=
&gt;&nbsp;rpc&nbsp;=3D&nbsp;<span class=3D"keyword" style=3D"colo=
r: rgb(127, 0, 85); font-weight: bold;">new</span>&nbsp;BlockingR=
pcCallback&lt;&gt;();&nbsp;&nbsp;</span></li><li style=3D"font-si=
ze: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; border-le=
ft-width: 1px; border-left-style: solid; border-left-color: rgb(2=
09, 215, 220); line-height: 18px; background-color: rgb(250, 250,=
 250);"><span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;instance.countLine(controller,&nbsp;req,&nbsp;rpc);&nbsp;&nbs=
p;</span></li><li style=3D"font-size: 1rem; margin-left: 38px; pa=
dding: 0px 0px 0px 10px; border-left-width: 1px; border-left-styl=
e: solid; border-left-color: rgb(209, 215, 220); line-height: 18p=
x; background-color: rgb(250, 250, 250);"><span style=3D"color: b=
lack;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LineCounterServer.CountResp=
onse&nbsp;resp&nbsp;=3D&nbsp;rpc.get();&nbsp;&nbsp;</span></li><l=
i style=3D"font-size: 1rem; margin-left: 38px; padding: 0px 0px 0=
px 10px; border-left-width: 1px; border-left-style: solid; border=
-left-color: rgb(209, 215, 220); line-height: 18px; background-co=
lor: rgb(250, 250, 250);"><span style=3D"color: black;">&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;<span class=3D"keyword" style=3D"color: rgb=
(127, 0, 85); font-weight: bold;">return</span>&nbsp;resp.getRetW=
ord();&nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem; margi=
n-left: 38px; padding: 0px 0px 0px 10px; border-left-width: 1px;=20=
border-left-style: solid; border-left-color: rgb(209, 215, 220);=20=
line-height: 18px; background-color: rgb(250, 250, 250);"><span s=
tyle=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li style=3D=
"font-size: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; b=
order-left-width: 1px; border-left-style: solid; border-left-colo=
r: rgb(209, 215, 220); line-height: 18px; background-color: rgb(2=
50, 250, 250);"><span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});&nbsp;&nbsp;</span></li><li style=
=3D"font-size: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px=
; border-left-width: 1px; border-left-style: solid; border-left-c=
olor: rgb(209, 215, 220); line-height: 18px; background-color: rg=
b(250, 250, 250);"><span style=3D"color: black;">&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=3D"keyword" style=3D"=
color: rgb(127, 0, 85); font-weight: bold;">long</span>&nbsp;ret&=
nbsp;=3D&nbsp;<span class=3D"number" style=3D"color: rgb(192, 0,=20=
0);">0</span>;&nbsp;&nbsp;</span></li><li style=3D"font-size: 1re=
m; margin-left: 38px; padding: 0px 0px 0px 10px; border-left-widt=
h: 1px; border-left-style: solid; border-left-color: rgb(209, 215=
, 220); line-height: 18px; background-color: rgb(250, 250, 250);"=
><span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;<span class=3D"keyword" style=3D"color: rgb(127, 0,=
 85); font-weight: bold;">for</span>&nbsp;(<span class=3D"keyword=
" style=3D"color: rgb(127, 0, 85); font-weight: bold;">long</span=
>&nbsp;l&nbsp;:&nbsp;tmpRet.values())&nbsp;&nbsp;</span></li><li=20=
style=3D"font-size: 1rem; margin-left: 38px; padding: 0px 0px 0px=
 10px; border-left-width: 1px; border-left-style: solid; border-l=
eft-color: rgb(209, 215, 220); line-height: 18px; background-colo=
r: rgb(250, 250, 250);"><span style=3D"color: black;">&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ret&=
nbsp;+=3D&nbsp;l;&nbsp;&nbsp;</span></li><li style=3D"font-size:=20=
1rem; margin-left: 38px; padding: 0px 0px 0px 10px; border-left-w=
idth: 1px; border-left-style: solid; border-left-color: rgb(209,=20=
215, 220); line-height: 18px; background-color: rgb(250, 250, 250=
);"><span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;System.out.println(<span class=3D"string" style=3D=
"color: blue;">"lines:&nbsp;"</span>&nbsp;+&nbsp;ret);&nbsp;&nbsp=
;</span></li><li style=3D"font-size: 1rem; margin-left: 38px; pad=
ding: 0px 0px 0px 10px; border-left-width: 1px; border-left-style=
: solid; border-left-color: rgb(209, 215, 220); line-height: 18px=
; background-color: rgb(250, 250, 250);"><span style=3D"color: bl=
ack;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li style=3D=
"font-size: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; b=
order-left-width: 1px; border-left-style: solid; border-left-colo=
r: rgb(209, 215, 220); line-height: 18px; background-color: rgb(2=
50, 250, 250);"><span style=3D"color: black;">}&nbsp;&nbsp;</span=
></li></ol></div><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =CA=
=D7=CF=C8=C9=E8=D6=C3zookeeper=BA=CDmaster=B5=C4=B5=D8=D6=B7=BA=CD=
=BD=D3=BF=DA=D0=C5=CF=A2=A1=A3=C8=BB=BA=F3=B9=B9=D4=EC=C7=EB=C7=F3=
=BC=B4CountRequest=A3=AC=CF=C8=BD=AB=C7=EB=C7=F3=D0=C5=CF=A2=C9=E8=
=D6=C3=CE=AA=A1=B0count=A1=B1=A1=A3=B5=F7=D3=C3HTable=B5=C4coproc=
essorService=B7=BD=B7=A8&nbsp;<br><div class=3D"dp-highlighter" s=
tyle=3D"font-family: Monaco, 'DejaVu Sans Mono', 'Bitstream Vera=20=
Sans Mono', Consolas, 'Courier New', monospace; font-size: 0.75re=
m; width: 679px; overflow: auto; margin-left: 9px; padding: 1px;=20=
word-break: break-all; word-wrap: break-word;"><div class=3D"bar"=
><div class=3D"tools" style=3D"padding: 3px; font-weight: bold;">=
Java=B4=FA=C2=EB&nbsp;<embed wmode=3D"transparent" src=3D"http://=
paddy-w.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf=
" width=3D"14" height=3D"15" flashvars=3D"clipboard=3Dpublic%20%3=
CT%20extends%20Service%2C%20R%3E%20Map%3Cbyte%5B%5D%2CR%3E%20copr=
ocessorService(final%20Class%3CT%3E%20service%2C%0A%20%20%20%20%2=
0%20byte%5B%5D%20startKey%2C%20byte%5B%5D%20endKey%2C%20final%20B=
atch.Call%3CT%2CR%3E%20callable)" quality=3D"high" allowscriptacc=
ess=3D"always" type=3D"application/x-shockwave-flash" pluginspage=
=3D"http://www.macromedia.com/go/getflashplayer">&nbsp;<a href ti=
tle=3D"=CA=D5=B2=D8=D5=E2=B6=CE=B4=FA=C2=EB" style=3D"color: rgb(=
0, 102, 0);"><img class=3D"star" src=3D"3955692e-3e3b-413f-a080-4=
ded2f5d2263.png" alt=3D"=CA=D5=B2=D8=B4=FA=C2=EB"></a></div></div=
><ol class=3D"dp-j wiz-list-level1" style=3D"font-size: 1rem; lin=
e-height: 1.4em; margin-bottom: 1px; padding: 2px 0px; border: 1p=
x solid rgb(209, 215, 220); list-style-position: initial; list-st=
yle-image: initial; color: rgb(43, 145, 175); background-color: r=
gb(255, 255, 255);"><li style=3D"font-size: 1rem; margin-left: 38=
px; padding: 0px 0px 0px 10px; border-left-width: 1px; border-lef=
t-style: solid; border-left-color: rgb(209, 215, 220); line-heigh=
t: 18px; background-color: rgb(250, 250, 250);"><span style=3D"co=
lor: black;"><span class=3D"keyword" style=3D"color: rgb(127, 0,=20=
85); font-weight: bold;">public</span>&nbsp;&lt;T&nbsp;<span clas=
s=3D"keyword" style=3D"color: rgb(127, 0, 85); font-weight: bold;=
">extends</span>&nbsp;Service,&nbsp;R&gt;&nbsp;Map&lt;<span class=
=3D"keyword" style=3D"color: rgb(127, 0, 85); font-weight: bold;"=
>byte</span>[],R&gt;&nbsp;coprocessorService(<span class=3D"keywo=
rd" style=3D"color: rgb(127, 0, 85); font-weight: bold;">final</s=
pan>&nbsp;Class&lt;T&gt;&nbsp;service,&nbsp;&nbsp;</span></li><li=
 style=3D"font-size: 1rem; margin-left: 38px; padding: 0px 0px 0p=
x 10px; border-left-width: 1px; border-left-style: solid; border-=
left-color: rgb(209, 215, 220); line-height: 18px; background-col=
or: rgb(250, 250, 250);"><span style=3D"color: black;">&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;<span class=3D"keyword" style=3D"color:=
 rgb(127, 0, 85); font-weight: bold;">byte</span>[]&nbsp;startKey=
,&nbsp;<span class=3D"keyword" style=3D"color: rgb(127, 0, 85); f=
ont-weight: bold;">byte</span>[]&nbsp;endKey,&nbsp;<span class=3D=
"keyword" style=3D"color: rgb(127, 0, 85); font-weight: bold;">fi=
nal</span>&nbsp;Batch.Call&lt;T,R&gt;&nbsp;callable)&nbsp;&nbsp;<=
/span></li></ol></div><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp; =B8=C3=B7=BD=B7=A8=D3=D0=CB=C4=B8=F6=B2=CE=CA=FD=A3=AC=B5=DA1=
=B8=F6=B2=CE=CA=FD=CA=C7protobuf=C9=FA=B3=C9=B5=C4LineCounter=C0=E0=
=B6=D4=CF=F3=A1=A3=B5=DA2=B8=F6=BA=CD=B5=DA3=B8=F6=B2=CE=CA=FD=B7=
=D6=B1=F0=CE=AA=C6=F0=CA=BC=BA=CD=BD=E1=CA=F8rowkey=A3=AC=D5=E2=C0=
=EF=B5=C4=D2=E2=CB=BC=CA=C7=B7=B6=CE=A7=C4=DArowkey=CB=F9=D4=DA=B5=
=C4region=B6=BC=BB=E1=B5=F7=D3=C3endpoint=A3=AC=D5=E2=C0=EF=C9=E8=
=CE=AAnull=B1=ED=C3=F7=CB=F9=D3=D0=B5=C4region=B6=BC=BB=E1=B5=F7=D3=
=C3=A1=A3=B5=DA4=B8=F6=B2=CE=CA=FD=CE=AA=BD=D3=BF=DA=A3=AC=D0=E8=D2=
=AA=D6=D8=D0=B4call=B7=BD=B7=A8=A1=A3&nbsp;<br>&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp; =B7=BD=B7=A8=B5=C4=B7=B5=BB=D8=D6=B5=CA=C7=
Map=C0=E0=D0=CD=A3=ACMap=B5=C4size=D3=EB=B2=CE=D3=EB=BC=C6=CB=E3=B5=
=C4region=B8=F6=CA=FD=D2=BB=D6=C2=A1=A3=CB=F9=D2=D4=D7=EE=BA=F3=D0=
=E8=D2=AA=D7=F6=B5=C4=D2=BB=B2=BD=CA=C7=BD=B2=B7=B5=BB=D8=BD=E1=B9=
=FB=BD=F8=D0=D0=C0=DB=BC=D3=A3=AC=B5=C3=B5=BD=D7=EE=BA=F3=B5=C4=BD=
=E1=B9=FB=A1=A3&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p; =B4=CB=B3=CC=D0=F2=B7=B5=BB=D85782=A3=AC=CA=C7=B1=EDcount_test=
=B5=C4=D0=D0=CA=FD=A1=A3=C8=F4=C7=EB=C7=F3=CF=FB=CF=A2=C9=E8=D6=C3=
=CE=AA=A1=B0hello=A1=B1=A3=AC=B3=CC=D0=F2=B7=B5=BB=D823333=A1=A3&=
nbsp;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; coprocess=
orService=BB=B9=D3=D0=D2=BB=B8=F6=CE=E5=B2=CE=CA=FD=B7=BD=B7=A8=A3=
=AC=B5=DA=CE=E5=B8=F6=B2=CE=CA=FD=CA=C7=D2=BB=B8=F6CallBack=BD=D3=
=BF=DA=A3=AC=BB=B9=BF=C9=D2=D4=C8=E7=B4=CB=CA=B5=CF=D6=A3=BA&nbsp=
;<br><div class=3D"dp-highlighter" style=3D"font-family: Monaco,=20=
'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courie=
r New', monospace; font-size: 0.75rem; width: 679px; overflow: au=
to; margin-left: 9px; padding: 1px; word-break: break-all; word-w=
rap: break-word;"><div class=3D"bar"><div class=3D"tools" style=3D=
"padding: 3px; font-weight: bold;">Java=B4=FA=C2=EB&nbsp;<embed w=
mode=3D"transparent" src=3D"http://paddy-w.iteye.com/javascripts/=
syntaxhighlighter/clipboard_new.swf" width=3D"14" height=3D"15" f=
lashvars=3D"clipboard=3Dpublic%20class%20LineCounterClient%20%7B%=
0A%0A%20%20%20%20public%20static%20void%20main(String%5B%5D%20arg=
s)%20throws%20Throwable%20%7B%0A%20%20%20%20%20%20%20%20Configura=
tion%20conf%20%3D%20HBaseConfiguration.create()%3B%0A%20%20%20%20=
%20%20%20%20conf.set(%22hbase.zookeeper.quorum%22%2C%20%22zk_host=
1%3A2181%2Czk_host2%3A2181%2Czk_host3%3A2181%22)%3B%0A%20%20%20%2=
0%20%20%20%20conf.set(%22hbase.master%22%2C%20%22host_master%3A60=
000%22)%3B%0A%20%20%20%20%20%20%20%20HTable%20table%20%3D%20new%2=
0HTable(conf%2C%20%22count_test%22)%3B%0A%20%20%20%20%20%20%20%20=
final%20LineCounterServer.CountRequest%20req%20%3D%20LineCounterS=
erver.CountRequest.newBuilder().setAskWord(%22count%22).build()%3=
B%0A%20%20%20%20%20%20%20%20final%20AtomicLong%20ret%20%3D%20new%=
20AtomicLong()%3B%0A%20%20%20%20%20%20%20%20table.coprocessorServ=
ice(LineCounterServer.LineCounter.class%2C%20null%2C%20null%2C%20=
new%20Batch.Call%3CLineCounterServer.LineCounter%2C%20Long%3E()%2=
0%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%40Override%0A%20%20%2=
0%20%20%20%20%20%20%20%20%20public%20Long%20call(LineCounterServe=
r.LineCounter%20instance)%20throws%20IOException%20%7B%0A%20%20%2=
0%20%20%20%20%20%20%20%20%20%20%20%20%20ServerRpcController%20con=
troller%20%3D%20new%20ServerRpcController()%3B%0A%20%20%20%20%20%=
20%20%20%20%20%20%20%20%20%20%20BlockingRpcCallback%3CLineCounter=
Server.CountResponse%3E%20rpc%20%3D%20new%20BlockingRpcCallback%3=
C%3E()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20insta=
nce.countLine(controller%2C%20req%2C%20rpc)%3B%0A%20%20%20%20%20%=
20%20%20%20%20%20%20%20%20%20%20LineCounterServer.CountResponse%2=
0resp%20%3D%20rpc.get()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20=
%20%20%20%20return%20resp.getRetWord()%3B%0A%20%20%20%20%20%20%20=
%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%20new%20Batch=
.Callback%3CLong%3E()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%2=
0%40Override%0A%20%20%20%20%20%20%20%20%20%20%20%20public%20void%=
20update(byte%5B%5D%20region%2C%20byte%5B%5D%20row%2C%20Long%20re=
sult)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ret=
.getAndAdd(result)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%2=
0%20%20System.out.println(Bytes.toString(row)%2B%22%3A%20%22%2Bre=
sult)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20=
%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20System.out.println(=
%22lines%3A%20%22%20%2B%20ret.get())%3B%0A%20%20%20%20%7D%0A%7D"=20=
quality=3D"high" allowscriptaccess=3D"always" type=3D"application=
/x-shockwave-flash" pluginspage=3D"http://www.macromedia.com/go/g=
etflashplayer">&nbsp;<a href title=3D"=CA=D5=B2=D8=D5=E2=B6=CE=B4=
=FA=C2=EB" style=3D"color: rgb(0, 102, 0);"><img class=3D"star" s=
rc=3D"3955692e-3e3b-413f-a080-4ded2f5d2263.png" alt=3D"=CA=D5=B2=D8=
=B4=FA=C2=EB"></a></div></div><ol class=3D"dp-j wiz-list-level1"=20=
style=3D"font-size: 1rem; line-height: 1.4em; margin-bottom: 1px;=
 padding: 2px 0px; border: 1px solid rgb(209, 215, 220); list-sty=
le-position: initial; list-style-image: initial; color: rgb(43, 1=
45, 175); background-color: rgb(255, 255, 255);"><li style=3D"fon=
t-size: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; borde=
r-left-width: 1px; border-left-style: solid; border-left-color: r=
gb(209, 215, 220); line-height: 18px; background-color: rgb(250,=20=
250, 250);"><span style=3D"color: black;"><span class=3D"keyword"=
 style=3D"color: rgb(127, 0, 85); font-weight: bold;">public</spa=
n>&nbsp;<span class=3D"keyword" style=3D"color: rgb(127, 0, 85);=20=
font-weight: bold;">class</span>&nbsp;LineCounterClient&nbsp;{&nb=
sp;&nbsp;</span></li><li style=3D"font-size: 1rem; margin-left: 3=
8px; padding: 0px 0px 0px 10px; border-left-width: 1px; border-le=
ft-style: solid; border-left-color: rgb(209, 215, 220); line-heig=
ht: 18px; background-color: rgb(250, 250, 250);"><span style=3D"c=
olor: black;">&nbsp;&nbsp;</span></li><li style=3D"font-size: 1re=
m; margin-left: 38px; padding: 0px 0px 0px 10px; border-left-widt=
h: 1px; border-left-style: solid; border-left-color: rgb(209, 215=
, 220); line-height: 18px; background-color: rgb(250, 250, 250);"=
><span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;<span clas=
s=3D"keyword" style=3D"color: rgb(127, 0, 85); font-weight: bold;=
">public</span>&nbsp;<span class=3D"keyword" style=3D"color: rgb(=
127, 0, 85); font-weight: bold;">static</span>&nbsp;<span class=3D=
"keyword" style=3D"color: rgb(127, 0, 85); font-weight: bold;">vo=
id</span>&nbsp;main(String[]&nbsp;args)&nbsp;<span class=3D"keywo=
rd" style=3D"color: rgb(127, 0, 85); font-weight: bold;">throws</=
span>&nbsp;Throwable&nbsp;{&nbsp;&nbsp;</span></li><li style=3D"f=
ont-size: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; bor=
der-left-width: 1px; border-left-style: solid; border-left-color:=
 rgb(209, 215, 220); line-height: 18px; background-color: rgb(250=
, 250, 250);"><span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;Configuration&nbsp;conf&nbsp;=3D&nbsp;=
HBaseConfiguration.create();&nbsp;&nbsp;</span></li><li style=3D"=
font-size: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; bo=
rder-left-width: 1px; border-left-style: solid; border-left-color=
: rgb(209, 215, 220); line-height: 18px; background-color: rgb(25=
0, 250, 250);"><span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;conf.set(<span class=3D"string" style=
=3D"color: blue;">"hbase.zookeeper.quorum"</span>,&nbsp;<span cla=
ss=3D"string" style=3D"color: blue;">"zk_host1:2181,zk_host2:2181=
,zk_host3:2181"</span>);&nbsp;&nbsp;</span></li><li style=3D"font=
-size: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; border=
-left-width: 1px; border-left-style: solid; border-left-color: rg=
b(209, 215, 220); line-height: 18px; background-color: rgb(250, 2=
50, 250);"><span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;conf.set(<span class=3D"string" style=3D"=
color: blue;">"hbase.master"</span>,&nbsp;<span class=3D"string"=20=
style=3D"color: blue;">"host_master:60000"</span>);&nbsp;&nbsp;</=
span></li><li style=3D"font-size: 1rem; margin-left: 38px; paddin=
g: 0px 0px 0px 10px; border-left-width: 1px; border-left-style: s=
olid; border-left-color: rgb(209, 215, 220); line-height: 18px; b=
ackground-color: rgb(250, 250, 250);"><span style=3D"color: black=
;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HTable&nbsp;ta=
ble&nbsp;=3D&nbsp;<span class=3D"keyword" style=3D"color: rgb(127=
, 0, 85); font-weight: bold;">new</span>&nbsp;HTable(conf,&nbsp;<=
span class=3D"string" style=3D"color: blue;">"count_test"</span>)=
;&nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem; margin-lef=
t: 38px; padding: 0px 0px 0px 10px; border-left-width: 1px; borde=
r-left-style: solid; border-left-color: rgb(209, 215, 220); line-=
height: 18px; background-color: rgb(250, 250, 250);"><span style=3D=
"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<=
span class=3D"keyword" style=3D"color: rgb(127, 0, 85); font-weig=
ht: bold;">final</span>&nbsp;LineCounterServer.CountRequest&nbsp;=
req&nbsp;=3D&nbsp;LineCounterServer.CountRequest.newBuilder().set=
AskWord(<span class=3D"string" style=3D"color: blue;">"count"</sp=
an>).build();&nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem=
; margin-left: 38px; padding: 0px 0px 0px 10px; border-left-width=
: 1px; border-left-style: solid; border-left-color: rgb(209, 215,=
 220); line-height: 18px; background-color: rgb(250, 250, 250);">=
<span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;<span class=3D"keyword" style=3D"color: rgb(127, 0,=20=
85); font-weight: bold;">final</span>&nbsp;AtomicLong&nbsp;ret&nb=
sp;=3D&nbsp;<span class=3D"keyword" style=3D"color: rgb(127, 0, 8=
5); font-weight: bold;">new</span>&nbsp;AtomicLong();&nbsp;&nbsp;=
</span></li><li style=3D"font-size: 1rem; margin-left: 38px; padd=
ing: 0px 0px 0px 10px; border-left-width: 1px; border-left-style:=
 solid; border-left-color: rgb(209, 215, 220); line-height: 18px;=
 background-color: rgb(250, 250, 250);"><span style=3D"color: bla=
ck;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table.coproc=
essorService(LineCounterServer.LineCounter.<span class=3D"keyword=
" style=3D"color: rgb(127, 0, 85); font-weight: bold;">class</spa=
n>,&nbsp;<span class=3D"keyword" style=3D"color: rgb(127, 0, 85);=
 font-weight: bold;">null</span>,&nbsp;<span class=3D"keyword" st=
yle=3D"color: rgb(127, 0, 85); font-weight: bold;">null</span>,&n=
bsp;<span class=3D"keyword" style=3D"color: rgb(127, 0, 85); font=
-weight: bold;">new</span>&nbsp;Batch.Call&lt;LineCounterServer.L=
ineCounter,&nbsp;Long&gt;()&nbsp;{&nbsp;&nbsp;</span></li><li sty=
le=3D"font-size: 1rem; margin-left: 38px; padding: 0px 0px 0px 10=
px; border-left-width: 1px; border-left-style: solid; border-left=
-color: rgb(209, 215, 220); line-height: 18px; background-color:=20=
rgb(250, 250, 250);"><span style=3D"color: black;">&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span c=
lass=3D"annotation" style=3D"color: rgb(100, 100, 100);">@Overrid=
e</span>&nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem; mar=
gin-left: 38px; padding: 0px 0px 0px 10px; border-left-width: 1px=
; border-left-style: solid; border-left-color: rgb(209, 215, 220)=
; line-height: 18px; background-color: rgb(250, 250, 250);"><span=
 style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=3D"keyword" style=3D"=
color: rgb(127, 0, 85); font-weight: bold;">public</span>&nbsp;Lo=
ng&nbsp;call(LineCounterServer.LineCounter&nbsp;instance)&nbsp;<s=
pan class=3D"keyword" style=3D"color: rgb(127, 0, 85); font-weigh=
t: bold;">throws</span>&nbsp;IOException&nbsp;{&nbsp;&nbsp;</span=
></li><li style=3D"font-size: 1rem; margin-left: 38px; padding: 0=
px 0px 0px 10px; border-left-width: 1px; border-left-style: solid=
; border-left-color: rgb(209, 215, 220); line-height: 18px; backg=
round-color: rgb(250, 250, 250);"><span style=3D"color: black;">&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ServerRpcController&nbsp;controller=
&nbsp;=3D&nbsp;<span class=3D"keyword" style=3D"color: rgb(127, 0=
, 85); font-weight: bold;">new</span>&nbsp;ServerRpcController();=
&nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem; margin-left=
: 38px; padding: 0px 0px 0px 10px; border-left-width: 1px; border=
-left-style: solid; border-left-color: rgb(209, 215, 220); line-h=
eight: 18px; background-color: rgb(250, 250, 250);"><span style=3D=
"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BlockingRpcCallbac=
k&lt;LineCounterServer.CountResponse&gt;&nbsp;rpc&nbsp;=3D&nbsp;<=
span class=3D"keyword" style=3D"color: rgb(127, 0, 85); font-weig=
ht: bold;">new</span>&nbsp;BlockingRpcCallback&lt;&gt;();&nbsp;&n=
bsp;</span></li><li style=3D"font-size: 1rem; margin-left: 38px;=20=
padding: 0px 0px 0px 10px; border-left-width: 1px; border-left-st=
yle: solid; border-left-color: rgb(209, 215, 220); line-height: 1=
8px; background-color: rgb(250, 250, 250);"><span style=3D"color:=
 black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instance.countLine(contro=
ller,&nbsp;req,&nbsp;rpc);&nbsp;&nbsp;</span></li><li style=3D"fo=
nt-size: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; bord=
er-left-width: 1px; border-left-style: solid; border-left-color:=20=
rgb(209, 215, 220); line-height: 18px; background-color: rgb(250,=
 250, 250);"><span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;LineCounterServer.CountResponse&nbsp;resp&nbsp;=3D&nbsp;=
rpc.get();&nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem; m=
argin-left: 38px; padding: 0px 0px 0px 10px; border-left-width: 1=
px; border-left-style: solid; border-left-color: rgb(209, 215, 22=
0); line-height: 18px; background-color: rgb(250, 250, 250);"><sp=
an style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span c=
lass=3D"keyword" style=3D"color: rgb(127, 0, 85); font-weight: bo=
ld;">return</span>&nbsp;resp.getRetWord();&nbsp;&nbsp;</span></li=
><li style=3D"font-size: 1rem; margin-left: 38px; padding: 0px 0p=
x 0px 10px; border-left-width: 1px; border-left-style: solid; bor=
der-left-color: rgb(209, 215, 220); line-height: 18px; background=
-color: rgb(250, 250, 250);"><span style=3D"color: black;">&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;}&nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem; margin-le=
ft: 38px; padding: 0px 0px 0px 10px; border-left-width: 1px; bord=
er-left-style: solid; border-left-color: rgb(209, 215, 220); line=
-height: 18px; background-color: rgb(250, 250, 250);"><span style=
=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;},&nbsp;<span class=3D"keyword" style=3D"color: rgb(127, 0, 85)=
; font-weight: bold;">new</span>&nbsp;Batch.Callback&lt;Long&gt;(=
)&nbsp;{&nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem; mar=
gin-left: 38px; padding: 0px 0px 0px 10px; border-left-width: 1px=
; border-left-style: solid; border-left-color: rgb(209, 215, 220)=
; line-height: 18px; background-color: rgb(250, 250, 250);"><span=
 style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=3D"annotation" style=3D=
"color: rgb(100, 100, 100);">@Override</span>&nbsp;&nbsp;</span><=
/li><li style=3D"font-size: 1rem; margin-left: 38px; padding: 0px=
 0px 0px 10px; border-left-width: 1px; border-left-style: solid;=20=
border-left-color: rgb(209, 215, 220); line-height: 18px; backgro=
und-color: rgb(250, 250, 250);"><span style=3D"color: black;">&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;<span class=3D"keyword" style=3D"color: rgb(127, 0, 85); font=
-weight: bold;">public</span>&nbsp;<span class=3D"keyword" style=3D=
"color: rgb(127, 0, 85); font-weight: bold;">void</span>&nbsp;upd=
ate(<span class=3D"keyword" style=3D"color: rgb(127, 0, 85); font=
-weight: bold;">byte</span>[]&nbsp;region,&nbsp;<span class=3D"ke=
yword" style=3D"color: rgb(127, 0, 85); font-weight: bold;">byte<=
/span>[]&nbsp;row,&nbsp;Long&nbsp;result)&nbsp;{&nbsp;&nbsp;</spa=
n></li><li style=3D"font-size: 1rem; margin-left: 38px; padding:=20=
0px 0px 0px 10px; border-left-width: 1px; border-left-style: soli=
d; border-left-color: rgb(209, 215, 220); line-height: 18px; back=
ground-color: rgb(250, 250, 250);"><span style=3D"color: black;">=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ret.getAndAdd(result);&nbsp;&nbsp;=
</span></li><li style=3D"font-size: 1rem; margin-left: 38px; padd=
ing: 0px 0px 0px 10px; border-left-width: 1px; border-left-style:=
 solid; border-left-color: rgb(209, 215, 220); line-height: 18px;=
 background-color: rgb(250, 250, 250);"><span style=3D"color: bla=
ck;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(Bytes.toSt=
ring(row)+<span class=3D"string" style=3D"color: blue;">":&nbsp;"=
</span>+result);&nbsp;&nbsp;</span></li><li style=3D"font-size: 1=
rem; margin-left: 38px; padding: 0px 0px 0px 10px; border-left-wi=
dth: 1px; border-left-style: solid; border-left-color: rgb(209, 2=
15, 220); line-height: 18px; background-color: rgb(250, 250, 250)=
;"><span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>=
<li style=3D"font-size: 1rem; margin-left: 38px; padding: 0px 0px=
 0px 10px; border-left-width: 1px; border-left-style: solid; bord=
er-left-color: rgb(209, 215, 220); line-height: 18px; background-=
color: rgb(250, 250, 250);"><span style=3D"color: black;">&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});&nbsp;&nbsp;</span></=
li><li style=3D"font-size: 1rem; margin-left: 38px; padding: 0px=20=
0px 0px 10px; border-left-width: 1px; border-left-style: solid; b=
order-left-color: rgb(209, 215, 220); line-height: 18px; backgrou=
nd-color: rgb(250, 250, 250);"><span style=3D"color: black;">&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<s=
pan class=3D"string" style=3D"color: blue;">"lines:&nbsp;"</span>=
&nbsp;+&nbsp;ret.get());&nbsp;&nbsp;</span></li><li style=3D"font=
-size: 1rem; margin-left: 38px; padding: 0px 0px 0px 10px; border=
-left-width: 1px; border-left-style: solid; border-left-color: rg=
b(209, 215, 220); line-height: 18px; background-color: rgb(250, 2=
50, 250);"><span style=3D"color: black;">&nbsp;&nbsp;&nbsp;&nbsp;=
}&nbsp;&nbsp;</span></li><li style=3D"font-size: 1rem; margin-lef=
t: 38px; padding: 0px 0px 0px 10px; border-left-width: 1px; borde=
r-left-style: solid; border-left-color: rgb(209, 215, 220); line-=
height: 18px; background-color: rgb(250, 250, 250);"><span style=3D=
"color: black;">}&nbsp;&nbsp;</span></li></ol></div><br>&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =C3=BF=B5=F7=D3=C3=D2=BB=B4=CEc=
all=B7=BD=B7=A8=D6=AE=BA=F3=BB=E1=B5=F7=D3=C3=D2=BB=B4=CEupdate=B7=
=BD=B7=A8=A3=AC=D2=F2=B4=CB=D4=DA=CD=E2=B2=BF=B6=A8=D2=E5=D2=BB=B8=
=F6=B1=E4=C1=BFret=B4=E6=B7=C5=BD=E1=B9=FB=A3=AC=C3=BF=B4=CE=B5=F7=
=D3=C3update=CA=B1=B8=FC=D0=C2ret=B5=C4=D6=B5=BC=B4=BF=C9=A1=A3</=
div><br><div style=3D"color:gray"><small>=C0=B4=D4=B4=A3=BA&nbsp;=
<a href=3D"http://paddy-w.iteye.com/blog/2191505?utm_source=3Dtui=
cool">http://paddy-w.iteye.com/blog/2191505?utm_source=3Dtuicool<=
/a></small></div><div></div></body></html>=0A=0A=0A=0A=0A=0A=0A=0A=
=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A

------=_Next_Part_0000336703.396--

------=_Next_Part_0001010109.166
Content-Type: image/png;
	name="3955692e-3e3b-413f-a080-4ded2f5d2263.png"
Content-Transfer-Encoding: base64
Content-ID: <3955692e-3e3b-413f-a080-4ded2f5d2263.png>
Content-Location: 3955692e-3e3b-413f-a080-4ded2f5d2263.png

iVBORw0KGgoAAAANSUhEUgAAAA8AAAAOCAYAAADwikbvAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGJSURBVDhPdVJbqwFhFJ3/635ryDVKYsgkigc8ueXFi5JLqJFIKeJJ8ojM/ISlvU/nO8eZOQ+rZva31v7Wt/aWDMOAFcbjMQKBALrdruU54V+xoiiQZRmRSAS3282SYyk+nU7w+/2Yz+eIRqMYjUYmDsFS3G63kUwm+bteryObzZo4BOlwOKDX66HVagn4fD6uEWE6ncJut6PRaKDT6fA5NV+tVpDIlsfjQalUgqqqKBQKKBaL2O/3LL5cLqhUKqJeLpcRCoUQDAYh1Wo1uN1uDIdDvF6vD1tWWK/XPAVqxm8may6XC/F4nMP6KyBQ4uTMZrPx+B6Px09gu90OmUwG4XAY1+v1Q6jrOt9Edmezmah/pN3v9xGLxXC/30XtG9VqlRv8rgkxCRKJhEh5u92yzclkwv90I2VzPp/N4s1mA6fTyYEsFgt4vV7eMBJQw+PxyCMkdyZxs9lkYjqdhsPhwGAwwPP5xHK55FGmUinOI5fLmcWUOO0xkTRNEwQCWc3n8zxbWpSvuoE3mkC2e6uKXUMAAAAASUVORK5CYII=

------=_Next_Part_0001010109.166--

