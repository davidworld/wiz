From: WizMime<support@wiz.cn>
Subject: =?gb2312?B?SEJhc2XU2nNwbGl0us1tYWpvciBjb21wYWN0tcTSu9Cpt8fNqLOjx+m/9s/CtcS0pbeizPW8/g==?=
Date: Date: Fri, 23 Jul 2021 05:53:15 +0800
MIME-Version: 1.0
Content-Type: multipart/related;
	type="multipart/alternative";
	boundary="----=_Next_Part_0001028013.584"

This is a multi-part message in MIME format.

------=_Next_Part_0001028013.584
Content-Type: multipart/alternative;
	boundary="----=_Next_Part_0000342671.987"


------=_Next_Part_0000342671.987
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: quoted-printable

This is a multi-part message in MIME format.

------=_Next_Part_0000342671.987
Content-Type: text/html;
	charset="gb2312"
Content-Transfer-Encoding: quoted-printable

<!doctype html><html><head>=0D=0A<meta http-equiv=3D"Content-Type=
" content=3D"text/html; charset=3Dgb2312">=0A=0A=0A=0A=0A=0A=0A=0A=
=0A=0A=0A=0A<title>HBase=D4=DAsplit=BA=CDmajor compact=B5=C4=D2=BB=
=D0=A9=B7=C7=CD=A8=B3=A3=C7=E9=BF=F6=CF=C2=B5=C4=B4=A5=B7=A2=CC=F5=
=BC=FE</title>=0A    =0A<style id=3D"wiz_custom_css">html, .wiz-e=
ditor-body {font-size: 12pt;}.wiz-editor-body {font-family: Helve=
tica, 'Hiragino Sans GB', '=E5=BE=AE=E8=BD=AF=E9=9B=85=E9=BB=91',=
 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;line-hei=
ght: 1.7;margin: 0 auto;padding: 20px 16px;padding: 1.25rem 1rem;=
}.wiz-editor-body h1,.wiz-editor-body h2,.wiz-editor-body h3,.wiz=
-editor-body h4,.wiz-editor-body h5,.wiz-editor-body h6 {margin:2=
0px 0 10px;margin:1.25rem 0 0.625rem;padding: 0;font-weight: bold=
;}.wiz-editor-body h1 {font-size:20pt;font-size:1.67rem;}.wiz-edi=
tor-body h2 {font-size:18pt;font-size:1.5rem;}.wiz-editor-body h3=
 {font-size:15pt;font-size:1.25rem;}.wiz-editor-body h4 {font-siz=
e:14pt;font-size:1.17rem;}.wiz-editor-body h5 {font-size:12pt;fon=
t-size:1rem;}.wiz-editor-body h6 {font-size:12pt;font-size:1rem;c=
olor: #777777;margin: 1rem 0;}.wiz-editor-body div,.wiz-editor-bo=
dy p,.wiz-editor-body ul,.wiz-editor-body ol,.wiz-editor-body dl,=
.wiz-editor-body li {margin:8px 0;}.wiz-editor-body blockquote,.w=
iz-editor-body table,.wiz-editor-body pre,.wiz-editor-body code {=
margin:8px 0;}.wiz-editor-body .CodeMirror pre {margin:0;}.wiz-ed=
itor-body ul,.wiz-editor-body ol {padding-left:32px;padding-left:=
2rem;}.wiz-editor-body ol.wiz-list-level1 > li {list-style-type:d=
ecimal;}.wiz-editor-body ol.wiz-list-level2 > li {list-style-type=
:lower-latin;}.wiz-editor-body ol.wiz-list-level3 > li {list-styl=
e-type:lower-roman;}.wiz-editor-body blockquote {padding: 0 12px;=
}.wiz-editor-body blockquote > :first-child {margin-top:0;}.wiz-e=
ditor-body blockquote > :last-child {margin-bottom:0;}.wiz-editor=
-body img {border:0;max-width:100%;height:auto !important;margin:=
2px 0;}.wiz-editor-body table {border-collapse:collapse;border:1p=
x solid #bbbbbb;}.wiz-editor-body td,.wiz-editor-body th {padding=
:4px 8px;border-collapse:collapse;border:1px solid #bbbbbb;min-he=
ight:28px;word-break:break-word;box-sizing: border-box;}.wiz-hide=
 {display:none !important;}</style></head>=0A=0A<body class=3D"wi=
z-editor-body" spellcheck=3D"false"><div><div class=3D"article-ti=
tle-box" style=3D"color:rgb(51, 51, 51);font-size:0.875rem;"><h1=20=
class=3D"title-article" style=3D"font-size:1.5rem;">HBase=D4=DAsp=
lit=BA=CDmajor compact=B5=C4=D2=BB=D0=A9=B7=C7=CD=A8=B3=A3=C7=E9=BF=
=F6=CF=C2=B5=C4=B4=A5=B7=A2=CC=F5=BC=FE</h1><div class=3D"article=
-bar-top d-flex" style=3D"font-size:0.875rem;color:rgb(133, 133,=20=
133)"><span class=3D"time">2013=C4=EA03=D4=C210=C8=D5 17:51:25</s=
pan></div><div class=3D"float-right" style=3D"font-size:0.875rem;=
color:rgb(133, 133, 133)"><span class=3D"read-count">=D4=C4=B6=C1=
=CA=FD=A3=BA9536</span></div><p style=3D"font-size:1rem;color:rgb=
(79, 79, 79);text-align:justify">HBase=D6=D0=B5=C4major compact=B9=
=A6=C4=DC=D6=D0=A3=AC=B2=CE=CA=FDhbase.hregion.majorcompaction=D2=
=D1=BE=AD=C9=E8=CE=AA0=C1=CB=A3=AC<br>=C8=D5=D6=BE=D6=D0=B7=A2=CF=
=D6=BB=B9=CA=C7=BB=E1major compact=A1=A3<br>=D3=D03=D6=D6=B7=BD=CA=
=BD=A3=AC=BF=C9=D2=D4=BC=A4=B7=A2major compact<br>1) =CD=A8=B9=FD=
hbase shell=C3=FC=C1=EE major_compact=BD=F8=D0=D0=B4=A5=B7=A2<br>=
2) compact when file &lt;=3D sum(smaller_files) *<br>'hbase.hstor=
e.compaction.ratio'<br>&nbsp;&nbsp;&nbsp; =D5=E2=D6=D6=C7=E9=BF=F6=
=CA=C7=D1=A1=D6=D0=B5=C4=CE=C4=BC=FE=CA=FD=C1=BF=B5=C8=D3=DAstore=
=D6=D0=B5=C4=CE=C4=BC=FE=CA=FD=C1=BF=CA=B1=A3=AC=BB=E1=D3=D0minor=
 compact=C9=FD=BC=B6=CE=AAmajor compact<br>3) major compact=CA=B1=
=BC=E4=BC=E4=B8=F4=B5=BD=C6=DA: after (now - min(StoreFile.timest=
amp)) &gt;<br>"hbase.hregion.majorcompaction" + rand() *<br>hbase=
.hregion.majorcompaction.jitter"</p><p style=3D"font-size:1rem;co=
lor:rgb(79, 79, 79);text-align:justify">=D6=C1=D3=DAsplit=A3=AC=B2=
=A2=B2=BB=CA=C7=C9=E8=D6=C3=C1=CBhbase.hregion.max.filesize=A3=A8=
=C4=AC=C8=CF10G=A3=A9=CE=AA=BA=DC=B4=F3=BE=CD=B1=A3=D6=A4=B2=BBsp=
lit=C1=CB=A3=AC=D0=E8=D2=AA=D3=D0=D2=D4=CF=C2=B5=C4=CB=E3=B7=A8=A3=
=AC=B2=CE=BC=FB<br>IncreasingToUpperBoundRegionSplitPolicy=CA=C70=
.94.0=C4=AC=C8=CFregion split=B2=DF=C2=D4<br>&nbsp; =D5=E2=C0=EF=B5=
=C4split=D3=D0=D2=BB=B8=F6=C5=D0=B6=CF=CC=F5=BC=FE=A3=AC=CF=C8=BC=
=C6=CB=E3=D5=E2tableRegionsCount=A3=A8regionserver=C9=CF=B5=C4=D5=
=E2=B8=F6table=B5=C4online=B5=C4region=B8=F6=CA=FD=A3=A9=A3=AC<sp=
an class=3D"Apple-converted-space">&nbsp;</span><br>=C8=BB=BA=F3=D1=
=AD=BB=B7=BC=C6=CB=E3=B4=CBregion=B5=C4=CB=F9=D3=D0store=CA=C7=B7=
=F1=CC=AB=B4=F3=A3=AC=D5=E2=CA=C7=CD=A8=B9=FDgetSizeToCheck=B7=BD=
=B7=A8=BC=C6=CB=E3=B3=F6=D2=BB=B8=F6size,=C8=F4=B5=B1=C7=B0=B5=C4=
store=D7=DC=B4=F3=D0=A1=B4=F3=D3=DA=D5=E2=B8=F6=D6=B5=A3=AC=D4=F2=
=B1=ED=CA=BE=B4=CBregion=D0=E8=D2=AAsplit.<span class=3D"Apple-co=
nverted-space">&nbsp;</span><br>getSizeToCheck=B5=C4=BC=C6=CB=E3=B7=
=BD=B7=A8=CA=D7=CF=C8=C5=D0=B6=CFtableRegionsCount=CA=C7=B7=F1=B5=
=C8=D3=DA0=A3=AC=C8=F4=CA=C7=D4=F2=B7=B5=BB=D8hbase.hregion.max.f=
ilesize =A3=AC=C8=F4=B2=BB=CA=C7=A3=AC=D4=F2=BC=C6=CB=E3Math.min(=
getDesiredMaxFileSize(),<span class=3D"Apple-converted-space">&nb=
sp;</span><br>this.flushSize * (tableRegionsCount * tableRegionsC=
ount)=A1=A3</p><article style=3D"font-size: 0.875rem;"><br></arti=
cle></div><div style=3D"color:gray;font-size:0.875rem"><small>=C0=
=B4=D4=B4=A3=BA&nbsp;<a href=3D"https://blog.csdn.net/yangbutao/a=
rticle/details/8627120">https://blog.csdn.net/yangbutao/article/d=
etails/8627120</a></small></div><br></div></body></html>=0A=0A=0A=
=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A

------=_Next_Part_0000342671.987--

------=_Next_Part_0001028013.584--

