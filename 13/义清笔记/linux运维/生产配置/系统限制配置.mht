From: WizMime<support@wiz.cn>
Subject: =?gb2312?B?z7XNs8/e1sbF5NbD?=
Date: Date: Fri, 23 Jul 2021 05:51:00 +0800
MIME-Version: 1.0
Content-Type: multipart/related;
	type="multipart/alternative";
	boundary="----=_Next_Part_0000621561.067"

This is a multi-part message in MIME format.

------=_Next_Part_0000621561.067
Content-Type: multipart/alternative;
	boundary="----=_Next_Part_0000207187.536"


------=_Next_Part_0000207187.536
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: quoted-printable

This is a multi-part message in MIME format.

------=_Next_Part_0000207187.536
Content-Type: text/html;
	charset="gb2312"
Content-Transfer-Encoding: quoted-printable

<!doctype html>=0A<html><head>=0D=0A<meta http-equiv=3D"Content-T=
ype" content=3D"text/html; charset=3Dgb2312">=0A=0A=0A=0A=0A=0A=0A=
=0A=0A=0A=0A=0A=0A=0A<meta http-equiv=3D"X-UA-Compatible" content=
=3D"IE=3D8"/>=0A=0A=0A<title>=CF=B5=CD=B3=CF=DE=D6=C6=C5=E4=D6=C3=
</title>=0A=0A=0A=0A=0A<style type=3D"text/css" id=3D"wiz_todo_st=
yle_id" wiz_link_version=3D"01.00.09">.wiz-todo, .wiz-todo-img {w=
idth: 16px; height: 16px; cursor: default; padding: 0 10px 0 2px;=
 vertical-align: -10%;-webkit-user-select: none;} .wiz-todo-label=
 { display: inline-block; padding-top: 7px; padding-bottom: 6px;=20=
line-height: 1.5;} .wiz-todo-label-checked {  color: #666;} .wiz-=
todo-label-unchecked {text-decoration: initial;} .wiz-todo-comple=
ted-info {padding-left: 44px; display: inline-block; } .wiz-todo-=
avatar { width:20px; height: 20px; vertical-align: -20%; margin-r=
ight:10px; border-radius: 2px;} .wiz-todo-account, .wiz-todo-dt {=
 color: #666; }</style>=0A=0A=0A=0A=0A=0A=0A<style type=3D"text/c=
ss" id=3D"wiz_custom_css">=0Abody=0A{=0A    font-family: Arial;=0A=
    font-size: 10.5pt;=0A    line-height: 1.5;=0A}=0Ahtml, body=0A=
{=0A    color: ;=0A    background-color: ;=0A}=0Ah1 {=0A    font-=
size:1.5em;=0A    font-weight:bold;=0A}=0Ah2 {=0A    font-size:1.=
4em;=0A    font-weight:bold;=0A}=0Ah3 {=0A    font-size:1.3em;=0A=
    font-weight:bold;=0A}=0Ah4 {=0A    font-size:1.2em;=0A    fon=
t-weight:bold;=0A}=0Ah5 {=0A    font-size:1.1em;=0A    font-weigh=
t:bold;=0A}=0Ah6 {=0A    font-size:1.0em;=0A    font-weight:bold;=
=0A}=0Aimg {=0A    border:0;=0A    max-width: 100%;=0A    height:=
 auto !important;=0A}=0Ablockquote {=0A    margin-top:0px;=0A   =20=
margin-bottom:0px;=0A}=0Atable {=0A    border-collapse:collapse;=0A=
    border:1px solid #bbbbbb;=0A}=0Atd {=0A    border-collapse:co=
llapse;=0A    border:1px solid #bbbbbb;=0A}=0A</style>=0A</head>=0A=
=0A<body style><div style=3D"text-indent: -10px;"><div><span styl=
e=3D"color: rgb(51, 51, 51); font-size: 14px; line-height: 26px;=20=
text-indent: 0px; background-color: rgb(255, 255, 255);">cat &gt;=
&gt;/etc/security/limits.conf&lt;&lt;eof</span><br style=3D"color=
: rgb(51, 51, 51); font-size: 14px; line-height: 26px; text-inden=
t: 0px; background-color: rgb(255, 255, 255);"><span style=3D"col=
or: rgb(51, 51, 51); font-size: 14px; line-height: 26px; text-ind=
ent: 0px; background-color: rgb(255, 255, 255);">* soft nproc 655=
35</span><br style=3D"color: rgb(51, 51, 51); font-size: 14px; li=
ne-height: 26px; text-indent: 0px; background-color: rgb(255, 255=
, 255);"><span style=3D"color: rgb(51, 51, 51); font-size: 14px;=20=
line-height: 26px; text-indent: 0px; background-color: rgb(255, 2=
55, 255);">* hard nproc 65535</span><br style=3D"color: rgb(51, 5=
1, 51); font-size: 14px; line-height: 26px; text-indent: 0px; bac=
kground-color: rgb(255, 255, 255);"><span style=3D"color: rgb(51,=
 51, 51); font-size: 14px; line-height: 26px; text-indent: 0px; b=
ackground-color: rgb(255, 255, 255);">* soft nofile 65535</span><=
br style=3D"color: rgb(51, 51, 51); font-size: 14px; line-height:=
 26px; text-indent: 0px; background-color: rgb(255, 255, 255);"><=
span style=3D"color: rgb(51, 51, 51); font-size: 14px; line-heigh=
t: 26px; text-indent: 0px; background-color: rgb(255, 255, 255);"=
>* hard nofile 65535</span><br style=3D"color: rgb(51, 51, 51); f=
ont-size: 14px; line-height: 26px; text-indent: 0px; background-c=
olor: rgb(255, 255, 255);"><p style=3D"color: rgb(51, 51, 51); fo=
nt-size: 14px; line-height: 26px; text-indent: 0px; background-co=
lor: rgb(255, 255, 255);">eof</p><div>soft nproc:<span style=3D"f=
ont-family: monospace;">&nbsp;</span>=BF=C9=B4=F2=BF=AA=B5=C4<a c=
lass=3D"inner-link decor-none" href=3D"http://zhidao.baidu.com/se=
arch?word=3D%E6%96%87%E4%BB%B6%E6%8F%8F%E8%BF%B0%E7%AC%A6&amp;fr=3D=
qb_search_exp&amp;ie=3Dutf8" target=3D"_blank" style=3D"color: rg=
b(51, 102, 153); text-decoration: none;">=CE=C4=BC=FE=C3=E8=CA=F6=
=B7=FB</a>=B5=C4=D7=EE=B4=F3=CA=FD(=C8=ED=CF=DE=D6=C6)<br>hard np=
roc=A3=BA<span style=3D"font-family: monospace;">&nbsp;</span>=BF=
=C9=B4=F2=BF=AA=B5=C4<a class=3D"inner-link decor-none" href=3D"h=
ttp://zhidao.baidu.com/search?word=3D%E6%96%87%E4%BB%B6%E6%8F%8F%=
E8%BF%B0%E7%AC%A6&amp;fr=3Dqb_search_exp&amp;ie=3Dutf8" target=3D=
"_blank" style=3D"color: rgb(51, 102, 153); text-decoration: none=
;">=CE=C4=BC=FE=C3=E8=CA=F6=B7=FB</a>=B5=C4=D7=EE=B4=F3=CA=FD(=D3=
=B2=CF=DE=D6=C6)<br>soft nofile=A3=BA=B5=A5=B8=F6=D3=C3=BB=A7=BF=C9=
=D3=C3=B5=C4=D7=EE=B4=F3=BD=F8=B3=CC=CA=FD=C1=BF(=C8=ED=CF=DE=D6=C6=
)<br>hard nofile=A3=BA=B5=A5=B8=F6=D3=C3=BB=A7=BF=C9=D3=C3=B5=C4=D7=
=EE=B4=F3=BD=F8=B3=CC=CA=FD=C1=BF(=D3=B2=CF=DE=D6=C6)</div></div>=
<div><b><span data-wiz-span=3D"data-wiz-span" style=3D"font-size:=
 16pt;"><br></span></b></div><div><b><span data-wiz-span=3D"data-=
wiz-span" style=3D"font-size: 16pt;"><br></span></b></div><div><b=
><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 16pt;"=
>Handling the "too many open files" error</span></b><br></div><di=
v>1. &nbsp;Increase the open file number of the hadoopuser by add=
ing the following properties&nbsp;</div><div>to the /etc/security=
/limits.conffile:</div><div>$ vi /etc/security/limits.conf</div><=
div>hadoop soft nofile 65535</div><div>hadoop hard nofile 65535</=
div><div>2. &nbsp;Add the following line to the /etc/pam.d/loginf=
ile:</div><div>$ vi /etc/pam.d/login</div><div>session required p=
am_limits.so</div><div>3. &nbsp;Log out and then log in again as=20=
the hadoopuser.</div><div>4. &nbsp;Confirm that theopen file limi=
t has been increased, by running the following command:</div><div=
>$ ulimit -n</div><div>65535</div><div><br></div><div><div><font=20=
color=3D"#3cb371">=B2=E9=BF=B4=B5=B1=C7=B0hadoop=D3=C3=BB=A7=B4=F2=
=BF=AA=B5=C4=CE=C4=BC=FE=CA=FD</font></div><div><font color=3D"#3=
cb371">llsof -u hadoop | wc -l</font></div></div><div><br></div><=
div><br></div><div><div><b><span data-wiz-span=3D"data-wiz-span"=20=
style=3D"font-size: 16pt;">Handling the "unable to create new nat=
ive&nbsp;</span><span style=3D"font-size: 10.5pt; line-height: 1.=
5;"><span data-wiz-span=3D"data-wiz-span" style=3D"font-size: 16p=
t;">thread" error</span></span></b></div></div><div><div>1. &nbsp=
;Increase the maximum number of processes of the hadoopuser by ad=
ding the&nbsp;</div><div>following properties to the /etc/securit=
y/limits.conffile:</div><div>$ vi /etc/security/limits.conf</div>=
<div>hadoop soft nproc 32000</div><div>hadoop hard nproc 32000</d=
iv><div>2. &nbsp;Add the following line to the /etc/pam.d/loginfi=
le:</div><div>$ vi /etc/pam.d/login</div><div>session required pa=
m_limits.so</div><div>3. &nbsp;Log out and then log in again as t=
he hadoopuser.</div><div>4. &nbsp;Make sure the open process limi=
t has been increased, by running the following&nbsp;</div><div>co=
mmand:</div><div>$ ulimit -u</div><div>32000</div></div><div><br>=
</div><div>=B2=E9=BF=B4=B5=B1=C7=B0=D3=C3=BB=A7=B5=C4=CF=DF=B3=CC=
=CA=FD</div><div><div>$ ps -o pid,comm,user,thcount -u hadoop</di=
v><div>PID COMMAND USER THCNT</div><div>1349 su hadoop 1</div><di=
v>1350 bash hadoop 1</div><div>1429 java hadoop 32</div><div>1580=
 java hadoop 14</div><div>1690 java hadoop 48</div><div>1819 ps h=
adoop 1</div></div><div><br></div><div><br></div><div><br></div><=
div><br></div><div><br></div></div></body></html>=0A=0A=0A=0A=0A=0A=
=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A=


------=_Next_Part_0000207187.536--

------=_Next_Part_0000621561.067--

